!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.g=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(n){(function(){function t(n,t,r){for(var e=(r||0)-1,u=n?n.length:0;++e<u;)if(n[e]===t)return e;return-1}function r(n,r){var e=typeof r;if(n=n.cache,"boolean"==e||null==r)return n[r]?0:-1;"number"!=e&&"string"!=e&&(e="object");var u="number"==e?r:d+r;return n=(n=n[e])&&n[u],"object"==e?n&&t(n,r)>-1?0:-1:n?0:-1}function e(n){var t=this.cache,r=typeof n;if("boolean"==r||null==n)t[n]=!0;else{"number"!=r&&"string"!=r&&(r="object");var e="number"==r?n:d+n,u=t[r]||(t[r]={});"object"==r?(u[e]||(u[e]=[])).push(n):u[e]=!0}}function u(n){return n.charCodeAt(0)}function o(n,t){for(var r=n.criteria,e=t.criteria,u=-1,o=r.length;++u<o;){var a=r[u],i=e[u];if(a!==i){if(a>i||"undefined"==typeof a)return 1;if(i>a||"undefined"==typeof i)return-1}}return n.index-t.index}function a(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&"object"==typeof u&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var i=l();i["false"]=i["null"]=i["true"]=i.undefined=!1;var f=l();for(f.array=n,f.cache=i,f.push=e;++t<r;)f.push(n[t]);return f}function i(n){return"\\"+H[n]}function f(){return g.pop()||[]}function l(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(n){n.length=0,g.length<_&&g.push(n)}function p(n){var t=n.cache;t&&p(t),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,y.length<_&&y.push(n)}function s(n,t,r){t||(t=0),"undefined"==typeof r&&(r=n?n.length:0);for(var e=-1,u=r-t||0,o=Array(0>u?0:u);++e<u;)o[e]=n[t+e];return o}function v(n){function e(n){return n&&"object"==typeof n&&!Xe(n)&&De.call(n,"__wrapped__")?n:new g(n)}function g(n,t){this.__chain__=!!t,this.__wrapped__=n}function y(n){function t(){if(e){var n=s(e);Te.apply(n,arguments)}if(this instanceof t){var o=H(r.prototype),a=r.apply(o,n||arguments);return It(a)?a:o}return r.apply(u,n||arguments)}var r=n[0],e=n[2],u=n[4];return Qe(t,n),t}function _(n,t,r,e,u){if(r){var o=r(n);if("undefined"!=typeof o)return o}var a=It(n);if(!a)return n;var i=Oe.call(n);if(!U[i])return n;var l=He[i];switch(i){case B:case W:return new l(+n);case z:case K:return new l(n);case P:return o=l(n.source,O.exec(n)),o.lastIndex=n.lastIndex,o}var p=Xe(n);if(t){var v=!e;e||(e=f()),u||(u=f());for(var h=e.length;h--;)if(e[h]==n)return u[h];o=p?l(n.length):{}}else o=p?s(n):uu({},n);return p&&(De.call(n,"index")&&(o.index=n.index),De.call(n,"input")&&(o.input=n.input)),t?(e.push(n),u.push(o),(p?Qt:iu)(n,function(n,a){o[a]=_(n,t,r,e,u)}),v&&(c(e),c(u)),o):o}function H(n){return It(n)?qe(n):{}}function Q(n,t,r){if("function"!=typeof n)return Xr;if("undefined"==typeof t||!("prototype"in n))return n;var e=n.__bindData__;if("undefined"==typeof e&&(Je.funcNames&&(e=!n.name),e=e||!Je.funcDecomp,!e)){var u=Se.call(n);Je.funcNames||(e=!N.test(u)),e||(e=S.test(u),Qe(n,e))}if(e===!1||e!==!0&&1&e[1])return n;switch(r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)}}return Tr(n,t)}function X(n){function t(){var n=f?a:this;if(u){var h=s(u);Te.apply(h,arguments)}if((o||c)&&(h||(h=s(arguments)),o&&Te.apply(h,o),c&&h.length<i))return e|=16,X([r,p?e:-4&e,h,null,a,i]);if(h||(h=arguments),l&&(r=n[v]),this instanceof t){n=H(r.prototype);var g=r.apply(n,h);return It(g)?g:n}return r.apply(n,h)}var r=n[0],e=n[1],u=n[2],o=n[3],a=n[4],i=n[5],f=1&e,l=2&e,c=4&e,p=8&e,v=r;return Qe(t,n),t}function Y(n,e){var u=-1,o=ft(),i=n?n.length:0,f=i>=b&&o===t,l=[];if(f){var c=a(e);c?(o=r,e=c):f=!1}for(;++u<i;){var s=n[u];o(e,s)<0&&l.push(s)}return f&&p(e),l}function Z(n,t,r,e){for(var u=(e||0)-1,o=n?n.length:0,a=[];++u<o;){var i=n[u];if(i&&"object"==typeof i&&"number"==typeof i.length&&(Xe(i)||st(i))){t||(i=Z(i,t,r));var f=-1,l=i.length,c=a.length;for(a.length+=l;++f<l;)a[c++]=i[f]}else r||a.push(i)}return a}function tt(n,t,r,e,u,o){if(r){var a=r(n,t);if("undefined"!=typeof a)return!!a}if(n===t)return 0!==n||1/n==1/t;var i=typeof n,l=typeof t;if(!(n!==n||n&&G[i]||t&&G[l]))return!1;if(null==n||null==t)return n===t;var p=Oe.call(n),s=Oe.call(t);if(p==$&&(p=L),s==$&&(s=L),p!=s)return!1;switch(p){case B:case W:return+n==+t;case z:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case P:case K:return n==we(t)}var v=p==F;if(!v){var h=De.call(n,"__wrapped__"),g=De.call(t,"__wrapped__");if(h||g)return tt(h?n.__wrapped__:n,g?t.__wrapped__:t,r,e,u,o);if(p!=L)return!1;var y=n.constructor,m=t.constructor;if(y!=m&&!(Et(y)&&y instanceof y&&Et(m)&&m instanceof m)&&"constructor"in n&&"constructor"in t)return!1}var d=!u;u||(u=f()),o||(o=f());for(var b=u.length;b--;)if(u[b]==n)return o[b]==t;var _=0;if(a=!0,u.push(n),o.push(t),v){if(b=n.length,_=t.length,a=_==b,a||e)for(;_--;){var w=b,j=t[_];if(e)for(;w--&&!(a=tt(n[w],j,r,e,u,o)););else if(!(a=tt(n[_],j,r,e,u,o)))break}}else au(t,function(t,i,f){return De.call(f,i)?(_++,a=De.call(n,i)&&tt(n[i],t,r,e,u,o)):void 0}),a&&!e&&au(n,function(n,t,r){return De.call(r,t)?a=--_>-1:void 0});return u.pop(),o.pop(),d&&(c(u),c(o)),a}function rt(n,t,r,e,u){(Xe(t)?Qt:iu)(t,function(t,o){var a,i,f=t,l=n[o];if(t&&((i=Xe(t))||fu(t))){for(var c=e.length;c--;)if(a=e[c]==t){l=u[c];break}if(!a){var p;r&&(f=r(l,t),(p="undefined"!=typeof f)&&(l=f)),p||(l=i?Xe(l)?l:[]:fu(l)?l:{}),e.push(t),u.push(l),p||rt(l,t,r,e,u)}}else r&&(f=r(l,t),"undefined"==typeof f&&(f=t)),"undefined"!=typeof f&&(l=f);n[o]=l})}function et(n,t){return n+Ie(Ge()*(t-n+1))}function ut(n,e,u){var o=-1,i=ft(),l=n?n.length:0,s=[],v=!e&&l>=b&&i===t,h=u||v?f():s;if(v){var g=a(h);i=r,h=g}for(;++o<l;){var y=n[o],m=u?u(y,o,n):y;(e?!o||h[h.length-1]!==m:i(h,m)<0)&&((u||v)&&h.push(m),s.push(y))}return v?(c(h.array),p(h)):u&&c(h),s}function ot(n){return function(t,r,u){var o={};r=e.createCallback(r,u,3);var a=-1,i=t?t.length:0;if("number"==typeof i)for(;++a<i;){var f=t[a];n(o,f,r(f,a,t),t)}else iu(t,function(t,e,u){n(o,t,r(t,e,u),u)});return o}}function at(n,t,r,e,u,o){var a=1&t,i=2&t,f=4&t,l=16&t,c=32&t;if(!i&&!Et(n))throw new je;l&&!r.length&&(t&=-17,l=r=!1),c&&!e.length&&(t&=-33,c=e=!1);var p=n&&n.__bindData__;if(p&&p!==!0)return p=s(p),p[2]&&(p[2]=s(p[2])),p[3]&&(p[3]=s(p[3])),!a||1&p[1]||(p[4]=u),!a&&1&p[1]&&(t|=8),!f||4&p[1]||(p[5]=o),l&&Te.apply(p[2]||(p[2]=[]),r),c&&Be.apply(p[3]||(p[3]=[]),e),p[1]|=t,at.apply(null,p);var v=1==t||17===t?y:X;return v([n,t,r,e,u,o])}function it(n){return nu[n]}function ft(){var n=(n=e.indexOf)===mr?t:n;return n}function lt(n){return"function"==typeof n&&Ne.test(n)}function ct(n){var t,r;return n&&Oe.call(n)==L&&(t=n.constructor,!Et(t)||t instanceof t)?(au(n,function(n,t){r=t}),"undefined"==typeof r||De.call(n,r)):!1}function pt(n){return tu[n]}function st(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Oe.call(n)==$||!1}function vt(n,t,r,e){return"boolean"!=typeof t&&null!=t&&(e=r,r=t,t=!1),_(n,t,"function"==typeof r&&Q(r,e,1))}function ht(n,t,r){return _(n,!0,"function"==typeof t&&Q(t,r,1))}function gt(n,t){var r=H(n);return t?uu(r,t):r}function yt(n,t,r){var u;return t=e.createCallback(t,r,3),iu(n,function(n,r,e){return t(n,r,e)?(u=r,!1):void 0}),u}function mt(n,t,r){var u;return t=e.createCallback(t,r,3),bt(n,function(n,r,e){return t(n,r,e)?(u=r,!1):void 0}),u}function dt(n,t,r){var e=[];au(n,function(n,t){e.push(t,n)});var u=e.length;for(t=Q(t,r,3);u--&&t(e[u--],e[u],n)!==!1;);return n}function bt(n,t,r){var e=Ze(n),u=e.length;for(t=Q(t,r,3);u--;){var o=e[u];if(t(n[o],o,n)===!1)break}return n}function _t(n){var t=[];return au(n,function(n,r){Et(n)&&t.push(r)}),t.sort()}function wt(n,t){return n?De.call(n,t):!1}function jt(n){for(var t=-1,r=Ze(n),e=r.length,u={};++t<e;){var o=r[t];u[n[o]]=o}return u}function kt(n){return n===!0||n===!1||n&&"object"==typeof n&&Oe.call(n)==B||!1}function xt(n){return n&&"object"==typeof n&&Oe.call(n)==W||!1}function Ct(n){return n&&1===n.nodeType||!1}function Ot(n){var t=!0;if(!n)return t;var r=Oe.call(n),e=n.length;return r==F||r==K||r==$||r==L&&"number"==typeof e&&Et(n.splice)?!e:(iu(n,function(){return t=!1}),t)}function Nt(n,t,r,e){return tt(n,t,"function"==typeof r&&Q(r,e,2))}function Rt(n){return Le(n)&&!Pe(parseFloat(n))}function Et(n){return"function"==typeof n}function It(n){return!(!n||!G[typeof n])}function St(n){return Dt(n)&&n!=+n}function At(n){return null===n}function Dt(n){return"number"==typeof n||n&&"object"==typeof n&&Oe.call(n)==z||!1}function Tt(n){return n&&"object"==typeof n&&Oe.call(n)==P||!1}function $t(n){return"string"==typeof n||n&&"object"==typeof n&&Oe.call(n)==K||!1}function Ft(n){return"undefined"==typeof n}function Bt(n,t,r){var u={};return t=e.createCallback(t,r,3),iu(n,function(n,r,e){u[r]=t(n,r,e)}),u}function Wt(n){var t=arguments,r=2;if(!It(n))return n;if("number"!=typeof t[2]&&(r=t.length),r>3&&"function"==typeof t[r-2])var e=Q(t[--r-1],t[r--],2);else r>2&&"function"==typeof t[r-1]&&(e=t[--r]);for(var u=s(arguments,1,r),o=-1,a=f(),i=f();++o<r;)rt(n,u[o],e,a,i);return c(a),c(i),n}function qt(n,t,r){var u={};if("function"!=typeof t){var o=[];au(n,function(n,t){o.push(t)}),o=Y(o,Z(arguments,!0,!1,1));for(var a=-1,i=o.length;++a<i;){var f=o[a];u[f]=n[f]}}else t=e.createCallback(t,r,3),au(n,function(n,r,e){t(n,r,e)||(u[r]=n)});return u}function zt(n){for(var t=-1,r=Ze(n),e=r.length,u=ve(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u}function Lt(n,t,r){var u={};if("function"!=typeof t)for(var o=-1,a=Z(arguments,!0,!1,1),i=It(n)?a.length:0;++o<i;){var f=a[o];f in n&&(u[f]=n[f])}else t=e.createCallback(t,r,3),au(n,function(n,r,e){t(n,r,e)&&(u[r]=n)});return u}function Pt(n,t,r,u){var o=Xe(n);if(null==r)if(o)r=[];else{var a=n&&n.constructor,i=a&&a.prototype;r=H(i)}return t&&(t=e.createCallback(t,u,4),(o?Qt:iu)(n,function(n,e,u){return t(r,n,e,u)})),r}function Kt(n){for(var t=-1,r=Ze(n),e=r.length,u=ve(e);++t<e;)u[t]=n[r[t]];return u}function Ut(n){for(var t=arguments,r=-1,e=Z(t,!0,!1,1),u=t[2]&&t[2][t[1]]===n?1:e.length,o=ve(u);++r<u;)o[r]=n[e[r]];return o}function Mt(n,t,r){var e=-1,u=ft(),o=n?n.length:0,a=!1;return r=(0>r?Ue(0,o+r):r)||0,Xe(n)?a=u(n,t,r)>-1:"number"==typeof o?a=($t(n)?n.indexOf(t,r):u(n,t,r))>-1:iu(n,function(n){return++e>=r?!(a=n===t):void 0}),a}function Vt(n,t,r){var u=!0;t=e.createCallback(t,r,3);var o=-1,a=n?n.length:0;if("number"==typeof a)for(;++o<a&&(u=!!t(n[o],o,n)););else iu(n,function(n,r,e){return u=!!t(n,r,e)});return u}function Gt(n,t,r){var u=[];t=e.createCallback(t,r,3);var o=-1,a=n?n.length:0;if("number"==typeof a)for(;++o<a;){var i=n[o];t(i,o,n)&&u.push(i)}else iu(n,function(n,r,e){t(n,r,e)&&u.push(n)});return u}function Ht(n,t,r){t=e.createCallback(t,r,3);var u=-1,o=n?n.length:0;if("number"!=typeof o){var a;return iu(n,function(n,r,e){return t(n,r,e)?(a=n,!1):void 0}),a}for(;++u<o;){var i=n[u];if(t(i,u,n))return i}}function Jt(n,t,r){var u;return t=e.createCallback(t,r,3),Xt(n,function(n,r,e){return t(n,r,e)?(u=n,!1):void 0}),u}function Qt(n,t,r){var e=-1,u=n?n.length:0;if(t=t&&"undefined"==typeof r?t:Q(t,r,3),"number"==typeof u)for(;++e<u&&t(n[e],e,n)!==!1;);else iu(n,t);return n}function Xt(n,t,r){var e=n?n.length:0;if(t=t&&"undefined"==typeof r?t:Q(t,r,3),"number"==typeof e)for(;e--&&t(n[e],e,n)!==!1;);else{var u=Ze(n);e=u.length,iu(n,function(n,r,o){return r=u?u[--e]:--e,t(o[r],r,o)})}return n}function Yt(n,t){var r=s(arguments,2),e=-1,u="function"==typeof t,o=n?n.length:0,a=ve("number"==typeof o?o:0);return Qt(n,function(n){a[++e]=(u?t:n[t]).apply(n,r)}),a}function Zt(n,t,r){var u=-1,o=n?n.length:0;if(t=e.createCallback(t,r,3),"number"==typeof o)for(var a=ve(o);++u<o;)a[u]=t(n[u],u,n);else a=[],iu(n,function(n,r,e){a[++u]=t(n,r,e)});return a}function nr(n,t,r){var o=-1/0,a=o;if("function"!=typeof t&&r&&r[t]===n&&(t=null),null==t&&Xe(n))for(var i=-1,f=n.length;++i<f;){var l=n[i];l>a&&(a=l)}else t=null==t&&$t(n)?u:e.createCallback(t,r,3),Qt(n,function(n,r,e){var u=t(n,r,e);u>o&&(o=u,a=n)});return a}function tr(n,t,r){var o=1/0,a=o;if("function"!=typeof t&&r&&r[t]===n&&(t=null),null==t&&Xe(n))for(var i=-1,f=n.length;++i<f;){var l=n[i];a>l&&(a=l)}else t=null==t&&$t(n)?u:e.createCallback(t,r,3),Qt(n,function(n,r,e){var u=t(n,r,e);o>u&&(o=u,a=n)});return a}function rr(n,t,r,u){if(!n)return r;var o=arguments.length<3;t=e.createCallback(t,u,4);var a=-1,i=n.length;if("number"==typeof i)for(o&&(r=n[++a]);++a<i;)r=t(r,n[a],a,n);else iu(n,function(n,e,u){r=o?(o=!1,n):t(r,n,e,u)});return r}function er(n,t,r,u){var o=arguments.length<3;return t=e.createCallback(t,u,4),Xt(n,function(n,e,u){r=o?(o=!1,n):t(r,n,e,u)}),r}function ur(n,t,r){return t=e.createCallback(t,r,3),Gt(n,function(n,r,e){return!t(n,r,e)})}function or(n,t,r){if(n&&"number"!=typeof n.length&&(n=Kt(n)),null==t||r)return n?n[et(0,n.length-1)]:h;var e=ar(n);return e.length=Me(Ue(0,t),e.length),e}function ar(n){var t=-1,r=n?n.length:0,e=ve("number"==typeof r?r:0);return Qt(n,function(n){var r=et(0,++t);e[t]=e[r],e[r]=n}),e}function ir(n){var t=n?n.length:0;return"number"==typeof t?t:Ze(n).length}function fr(n,t,r){var u;t=e.createCallback(t,r,3);var o=-1,a=n?n.length:0;if("number"==typeof a)for(;++o<a&&!(u=t(n[o],o,n)););else iu(n,function(n,r,e){return!(u=t(n,r,e))});return!!u}function lr(n,t,r){var u=-1,a=Xe(t),i=n?n.length:0,s=ve("number"==typeof i?i:0);for(a||(t=e.createCallback(t,r,3)),Qt(n,function(n,r,e){var o=s[++u]=l();a?o.criteria=Zt(t,function(t){return n[t]}):(o.criteria=f())[0]=t(n,r,e),o.index=u,o.value=n}),i=s.length,s.sort(o);i--;){var v=s[i];s[i]=v.value,a||c(v.criteria),p(v)}return s}function cr(n){return n&&"number"==typeof n.length?s(n):Kt(n)}function pr(n){for(var t=-1,r=n?n.length:0,e=[];++t<r;){var u=n[t];u&&e.push(u)}return e}function sr(n){return Y(n,Z(arguments,!0,!0,1))}function vr(n,t,r){var u=-1,o=n?n.length:0;for(t=e.createCallback(t,r,3);++u<o;)if(t(n[u],u,n))return u;return-1}function hr(n,t,r){var u=n?n.length:0;for(t=e.createCallback(t,r,3);u--;)if(t(n[u],u,n))return u;return-1}function gr(n,t,r){var u=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=e.createCallback(t,r,3);++a<o&&t(n[a],a,n);)u++}else if(u=t,null==u||r)return n?n[0]:h;return s(n,0,Me(Ue(0,u),o))}function yr(n,t,r,e){return"boolean"!=typeof t&&null!=t&&(e=r,r="function"!=typeof t&&e&&e[t]===n?null:t,t=!1),null!=r&&(n=Zt(n,r,e)),Z(n,t)}function mr(n,r,e){if("number"==typeof e){var u=n?n.length:0;e=0>e?Ue(0,u+e):e||0}else if(e){var o=Or(n,r);return n[o]===r?o:-1}return t(n,r,e)}function dr(n,t,r){var u=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var a=o;for(t=e.createCallback(t,r,3);a--&&t(n[a],a,n);)u++}else u=null==t||r?1:t||u;return s(n,0,Me(Ue(0,o-u),o))}function br(){for(var n=[],e=-1,u=arguments.length,o=f(),i=ft(),l=i===t,s=f();++e<u;){var v=arguments[e];(Xe(v)||st(v))&&(n.push(v),o.push(l&&v.length>=b&&a(e?n[e]:s)))}var h=n[0],g=-1,y=h?h.length:0,m=[];n:for(;++g<y;){var d=o[0];if(v=h[g],(d?r(d,v):i(s,v))<0){for(e=u,(d||s).push(v);--e;)if(d=o[e],(d?r(d,v):i(n[e],v))<0)continue n;m.push(v)}}for(;u--;)d=o[u],d&&p(d);return c(o),c(s),m}function _r(n,t,r){var u=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var a=o;for(t=e.createCallback(t,r,3);a--&&t(n[a],a,n);)u++}else if(u=t,null==u||r)return n?n[o-1]:h;return s(n,Ue(0,o-u))}function wr(n,t,r){var e=n?n.length:0;for("number"==typeof r&&(e=(0>r?Ue(0,e+r):Me(r,e-1))+1);e--;)if(n[e]===t)return e;return-1}function jr(n){for(var t=arguments,r=0,e=t.length,u=n?n.length:0;++r<e;)for(var o=-1,a=t[r];++o<u;)n[o]===a&&(Fe.call(n,o--,1),u--);return n}function kr(n,t,r){n=+n||0,r="number"==typeof r?r:+r||1,null==t&&(t=n,n=0);for(var e=-1,u=Ue(0,Re((t-n)/(r||1))),o=ve(u);++e<u;)o[e]=n,n+=r;return o}function xr(n,t,r){var u=-1,o=n?n.length:0,a=[];for(t=e.createCallback(t,r,3);++u<o;){var i=n[u];t(i,u,n)&&(a.push(i),Fe.call(n,u--,1),o--)}return a}function Cr(n,t,r){if("number"!=typeof t&&null!=t){var u=0,o=-1,a=n?n.length:0;for(t=e.createCallback(t,r,3);++o<a&&t(n[o],o,n);)u++}else u=null==t||r?1:Ue(0,t);return s(n,u)}function Or(n,t,r,u){var o=0,a=n?n.length:o;for(r=r?e.createCallback(r,u,1):Xr,t=r(t);a>o;){var i=o+a>>>1;r(n[i])<t?o=i+1:a=i}return o}function Nr(){return ut(Z(arguments,!0,!0))}function Rr(n,t,r,u){return"boolean"!=typeof t&&null!=t&&(u=r,r="function"!=typeof t&&u&&u[t]===n?null:t,t=!1),null!=r&&(r=e.createCallback(r,u,3)),ut(n,t,r)}function Er(n){return Y(n,s(arguments,1))}function Ir(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Xe(r)||st(r))var e=e?ut(Y(e,r).concat(Y(r,e))):r}return e||[]}function Sr(){for(var n=arguments.length>1?arguments:arguments[0],t=-1,r=n?nr(su(n,"length")):0,e=ve(0>r?0:r);++t<r;)e[t]=su(n,t);return e}function Ar(n,t){var r=-1,e=n?n.length:0,u={};for(t||!e||Xe(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function Dr(n,t){if(!Et(t))throw new je;return function(){return--n<1?t.apply(this,arguments):void 0}}function Tr(n,t){return arguments.length>2?at(n,17,s(arguments,2),null,t):at(n,1,null,null,t)}function $r(n){for(var t=arguments.length>1?Z(arguments,!0,!1,1):_t(n),r=-1,e=t.length;++r<e;){var u=t[r];n[u]=at(n[u],1,null,null,n)}return n}function Fr(n,t){return arguments.length>2?at(t,19,s(arguments,2),null,n):at(t,3,null,null,n)}function Br(){for(var n=arguments,t=n.length;t--;)if(!Et(n[t]))throw new je;return function(){for(var t=arguments,r=n.length;r--;)t=[n[r].apply(this,t)];return t[0]}}function Wr(n,t){return t="number"==typeof t?t:+t||n.length,at(n,4,null,null,null,t)}function qr(n,t,r){var e,u,o,a,i,f,l,c=0,p=!1,s=!0;if(!Et(n))throw new je;if(t=Ue(0,t)||0,r===!0){var v=!0;s=!1}else It(r)&&(v=r.leading,p="maxWait"in r&&(Ue(t,r.maxWait)||0),s="trailing"in r?r.trailing:s);var g=function(){var r=t-(hu()-a);if(0>=r){u&&Ee(u);var p=l;u=f=l=h,p&&(c=hu(),o=n.apply(i,e),f||u||(e=i=null))}else f=$e(g,r)},y=function(){f&&Ee(f),u=f=l=h,(s||p!==t)&&(c=hu(),o=n.apply(i,e),f||u||(e=i=null))};return function(){if(e=arguments,a=hu(),i=this,l=s&&(f||!v),p===!1)var r=v&&!f;else{u||v||(c=a);var h=p-(a-c),m=0>=h;m?(u&&(u=Ee(u)),c=a,o=n.apply(i,e)):u||(u=$e(y,h))}return m&&f?f=Ee(f):f||t===p||(f=$e(g,t)),r&&(m=!0,o=n.apply(i,e)),!m||f||u||(e=i=null),o}}function zr(n){if(!Et(n))throw new je;var t=s(arguments,1);return $e(function(){n.apply(h,t)},1)}function Lr(n,t){if(!Et(n))throw new je;var r=s(arguments,2);return $e(function(){n.apply(h,r)},t)}function Pr(n,t){if(!Et(n))throw new je;var r=function(){var e=r.cache,u=t?t.apply(this,arguments):d+arguments[0];return De.call(e,u)?e[u]:e[u]=n.apply(this,arguments)};return r.cache={},r}function Kr(n){var t,r;if(!Et(n))throw new je;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}}function Ur(n){return at(n,16,s(arguments,1))}function Mr(n){return at(n,32,null,s(arguments,1))}function Vr(n,t,r){var e=!0,u=!0;if(!Et(n))throw new je;return r===!1?e=!1:It(r)&&(e="leading"in r?r.leading:e,u="trailing"in r?r.trailing:u),M.leading=e,M.maxWait=t,M.trailing=u,qr(n,t,M)}function Gr(n,t){return at(t,16,[n])}function Hr(n){return function(){return n}}function Jr(n,t,r){var e=typeof n;if(null==n||"function"==e)return Q(n,t,r);if("object"!=e)return te(n);var u=Ze(n),o=u[0],a=n[o];return 1!=u.length||a!==a||It(a)?function(t){for(var r=u.length,e=!1;r--&&(e=tt(t[u[r]],n[u[r]],null,!0)););return e}:function(n){var t=n[o];return a===t&&(0!==a||1/a==1/t)}}function Qr(n){return null==n?"":we(n).replace(eu,it)}function Xr(n){return n}function Yr(n,t,r){var u=!0,o=t&&_t(t);t&&(r||o.length)||(null==r&&(r=t),a=g,t=n,n=e,o=_t(t)),r===!1?u=!1:It(r)&&"chain"in r&&(u=r.chain);var a=n,i=Et(a);Qt(o,function(r){var e=n[r]=t[r];i&&(a.prototype[r]=function(){var t=this.__chain__,r=this.__wrapped__,o=[r];Te.apply(o,arguments);var i=e.apply(n,o);if(u||t){if(r===i&&It(i))return this;i=new a(i),i.__chain__=t}return i})})}function Zr(){return n._=Ce,this}function ne(){}function te(n){return function(t){return t[n]}}function re(n,t,r){var e=null==n,u=null==t;if(null==r&&("boolean"==typeof n&&u?(r=n,n=1):u||"boolean"!=typeof t||(r=t,u=!0)),e&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var o=Ge();return Me(n+o*(t-n+parseFloat("1e-"+((o+"").length-1))),t)}return et(n,t)}function ee(n,t){if(n){var r=n[t];return Et(r)?n[t]():r}}function ue(n,t,r){var u=e.templateSettings;n=we(n||""),r=ou({},r,u);var o,a=ou({},r.imports,u.imports),f=Ze(a),l=Kt(a),c=0,p=r.interpolate||I,s="__p += '",v=_e((r.escape||I).source+"|"+p.source+"|"+(p===R?C:I).source+"|"+(r.evaluate||I).source+"|$","g");n.replace(v,function(t,r,e,u,a,f){return e||(e=u),s+=n.slice(c,f).replace(A,i),r&&(s+="' +\n__e("+r+") +\n'"),a&&(o=!0,s+="';\n"+a+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=f+t.length,t}),s+="';\n";var g=r.variable,y=g;y||(g="obj",s="with ("+g+") {\n"+s+"\n}\n"),s=(o?s.replace(j,""):s).replace(k,"$1").replace(x,"$1;"),s="function("+g+") {\n"+(y?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var m="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var d=ye(f,"return "+s+m).apply(h,l)}catch(b){throw b.source=s,b}return t?d(t):(d.source=s,d)}function oe(n,t,r){n=(n=+n)>-1?n:0;var e=-1,u=ve(n);for(t=Q(t,r,1);++e<n;)u[e]=t(e);return u}function ae(n){return null==n?"":we(n).replace(ru,pt)}function ie(n){var t=++m;return we(null==n?"":n)+t}function fe(n){return n=new g(n),n.__chain__=!0,n}function le(n,t){return t(n),n}function ce(){return this.__chain__=!0,this}function pe(){return we(this.__wrapped__)}function se(){return this.__wrapped__}n=n?nt.defaults(J.Object(),n,nt.pick(J,D)):J;var ve=n.Array,he=n.Boolean,ge=n.Date,ye=n.Function,me=n.Math,de=n.Number,be=n.Object,_e=n.RegExp,we=n.String,je=n.TypeError,ke=[],xe=be.prototype,Ce=n._,Oe=xe.toString,Ne=_e("^"+we(Oe).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Re=me.ceil,Ee=n.clearTimeout,Ie=me.floor,Se=ye.prototype.toString,Ae=lt(Ae=be.getPrototypeOf)&&Ae,De=xe.hasOwnProperty,Te=ke.push,$e=n.setTimeout,Fe=ke.splice,Be=ke.unshift,We=function(){try{var n={},t=lt(t=be.defineProperty)&&t,r=t(n,n,n)&&t}catch(e){}return r}(),qe=lt(qe=be.create)&&qe,ze=lt(ze=ve.isArray)&&ze,Le=n.isFinite,Pe=n.isNaN,Ke=lt(Ke=be.keys)&&Ke,Ue=me.max,Me=me.min,Ve=n.parseInt,Ge=me.random,He={};He[F]=ve,He[B]=he,He[W]=ge,He[q]=ye,He[L]=be,He[z]=de,He[P]=_e,He[K]=we,g.prototype=e.prototype;var Je=e.support={};Je.funcDecomp=!lt(n.WinRTError)&&S.test(v),Je.funcNames="string"==typeof ye.name,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:e}},qe||(H=function(){function t(){}return function(r){if(It(r)){t.prototype=r;var e=new t;t.prototype=null}return e||n.Object()}}());var Qe=We?function(n,t){V.value=t,We(n,"__bindData__",V)}:ne,Xe=ze||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Oe.call(n)==F||!1},Ye=function(n){var t,r=n,e=[];if(!r)return e;if(!G[typeof n])return e;for(t in r)De.call(r,t)&&e.push(t);return e},Ze=Ke?function(n){return It(n)?Ke(n):[]}:Ye,nu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tu=jt(nu),ru=_e("("+Ze(tu).join("|")+")","g"),eu=_e("["+Ze(nu).join("")+"]","g"),uu=function(n,t,r){var e,u=n,o=u;if(!u)return o;var a=arguments,i=0,f="number"==typeof r?2:a.length;if(f>3&&"function"==typeof a[f-2])var l=Q(a[--f-1],a[f--],2);else f>2&&"function"==typeof a[f-1]&&(l=a[--f]);for(;++i<f;)if(u=a[i],u&&G[typeof u])for(var c=-1,p=G[typeof u]&&Ze(u),s=p?p.length:0;++c<s;)e=p[c],o[e]=l?l(o[e],u[e]):u[e];return o},ou=function(n,t,r){var e,u=n,o=u;if(!u)return o;for(var a=arguments,i=0,f="number"==typeof r?2:a.length;++i<f;)if(u=a[i],u&&G[typeof u])for(var l=-1,c=G[typeof u]&&Ze(u),p=c?c.length:0;++l<p;)e=c[l],"undefined"==typeof o[e]&&(o[e]=u[e]);return o},au=function(n,t,r){var e,u=n,o=u;if(!u)return o;if(!G[typeof u])return o;t=t&&"undefined"==typeof r?t:Q(t,r,3);for(e in u)if(t(u[e],e,n)===!1)return o;return o},iu=function(n,t,r){var e,u=n,o=u;if(!u)return o;if(!G[typeof u])return o;t=t&&"undefined"==typeof r?t:Q(t,r,3);for(var a=-1,i=G[typeof u]&&Ze(u),f=i?i.length:0;++a<f;)if(e=i[a],t(u[e],e,n)===!1)return o;return o},fu=Ae?function(n){if(!n||Oe.call(n)!=L)return!1;var t=n.valueOf,r=lt(t)&&(r=Ae(t))&&Ae(r);return r?n==r||Ae(n)==r:ct(n)}:ct,lu=ot(function(n,t,r){De.call(n,r)?n[r]++:n[r]=1}),cu=ot(function(n,t,r){(De.call(n,r)?n[r]:n[r]=[]).push(t)}),pu=ot(function(n,t,r){n[r]=t}),su=Zt,vu=Gt,hu=lt(hu=ge.now)&&hu||function(){return(new ge).getTime()},gu=8==Ve(w+"08")?Ve:function(n,t){return Ve($t(n)?n.replace(E,""):n,t||0)};return e.after=Dr,e.assign=uu,e.at=Ut,e.bind=Tr,e.bindAll=$r,e.bindKey=Fr,e.chain=fe,e.compact=pr,e.compose=Br,e.constant=Hr,e.countBy=lu,e.create=gt,e.createCallback=Jr,e.curry=Wr,e.debounce=qr,e.defaults=ou,e.defer=zr,e.delay=Lr,e.difference=sr,e.filter=Gt,e.flatten=yr,e.forEach=Qt,e.forEachRight=Xt,e.forIn=au,e.forInRight=dt,e.forOwn=iu,e.forOwnRight=bt,e.functions=_t,e.groupBy=cu,e.indexBy=pu,e.initial=dr,e.intersection=br,e.invert=jt,e.invoke=Yt,e.keys=Ze,e.map=Zt,e.mapValues=Bt,e.max=nr,e.memoize=Pr,e.merge=Wt,e.min=tr,e.omit=qt,e.once=Kr,e.pairs=zt,e.partial=Ur,e.partialRight=Mr,e.pick=Lt,e.pluck=su,e.property=te,e.pull=jr,e.range=kr,e.reject=ur,e.remove=xr,e.rest=Cr,e.shuffle=ar,e.sortBy=lr,e.tap=le,e.throttle=Vr,e.times=oe,e.toArray=cr,e.transform=Pt,e.union=Nr,e.uniq=Rr,e.values=Kt,e.where=vu,e.without=Er,e.wrap=Gr,e.xor=Ir,e.zip=Sr,e.zipObject=Ar,e.collect=Zt,e.drop=Cr,e.each=Qt,e.eachRight=Xt,e.extend=uu,e.methods=_t,e.object=Ar,e.select=Gt,e.tail=Cr,e.unique=Rr,e.unzip=Sr,Yr(e),e.clone=vt,e.cloneDeep=ht,e.contains=Mt,e.escape=Qr,e.every=Vt,e.find=Ht,e.findIndex=vr,e.findKey=yt,e.findLast=Jt,e.findLastIndex=hr,e.findLastKey=mt,e.has=wt,e.identity=Xr,e.indexOf=mr,e.isArguments=st,e.isArray=Xe,e.isBoolean=kt,e.isDate=xt,e.isElement=Ct,e.isEmpty=Ot,e.isEqual=Nt,e.isFinite=Rt,e.isFunction=Et,e.isNaN=St,e.isNull=At,e.isNumber=Dt,e.isObject=It,e.isPlainObject=fu,e.isRegExp=Tt,e.isString=$t,e.isUndefined=Ft,e.lastIndexOf=wr,e.mixin=Yr,e.noConflict=Zr,e.noop=ne,e.now=hu,e.parseInt=gu,e.random=re,e.reduce=rr,e.reduceRight=er,e.result=ee,e.runInContext=v,e.size=ir,e.some=fr,e.sortedIndex=Or,e.template=ue,e.unescape=ae,e.uniqueId=ie,e.all=Vt,e.any=fr,e.detect=Ht,e.findWhere=Ht,e.foldl=rr,e.foldr=er,e.include=Mt,e.inject=rr,Yr(function(){var n={};return iu(e,function(t,r){e.prototype[r]||(n[r]=t)}),n}(),!1),e.first=gr,e.last=_r,e.sample=or,e.take=gr,e.head=gr,iu(e,function(n,t){var r="sample"!==t;e.prototype[t]||(e.prototype[t]=function(t,e){var u=this.__chain__,o=n(this.__wrapped__,t,e);return u||null!=t&&(!e||r&&"function"==typeof t)?new g(o,u):o})}),e.VERSION="2.4.1",e.prototype.chain=ce,e.prototype.toString=pe,e.prototype.value=se,e.prototype.valueOf=se,Qt(["join","pop","shift"],function(n){var t=ke[n];e.prototype[n]=function(){var n=this.__chain__,r=t.apply(this.__wrapped__,arguments);return n?new g(r,n):r}}),Qt(["push","reverse","sort","unshift"],function(n){var t=ke[n];e.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Qt(["concat","slice","splice"],function(n){var t=ke[n];e.prototype[n]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),e}var h,g=[],y=[],m=0,d=+new Date+"",b=75,_=40,w=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",j=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,O=/\w*$/,N=/^\s*function[ \n\r\t]+\w/,R=/<%=([\s\S]+?)%>/g,E=RegExp("^["+w+"]*0+(?=.$)"),I=/($^)/,S=/\bthis\b/,A=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],T=0,$="[object Arguments]",F="[object Array]",B="[object Boolean]",W="[object Date]",q="[object Function]",z="[object Number]",L="[object Object]",P="[object RegExp]",K="[object String]",U={};U[q]=!1,U[$]=U[F]=U[B]=U[W]=U[z]=U[L]=U[P]=U[K]=!0;var M={leading:!1,maxWait:0,trailing:!1},V={configurable:!1,enumerable:!1,value:null,writable:!1},G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},H={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},J=G[typeof window]&&window||this,Q=G[typeof exports]&&exports&&!exports.nodeType&&exports,X=G[typeof module]&&module&&!module.nodeType&&module,Y=X&&X.exports===Q&&Q,Z=G[typeof n]&&n;!Z||Z.global!==Z&&Z.window!==Z||(J=Z);var nt=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(J._=nt,define(function(){return nt})):Q&&X?Y?(X.exports=nt)._=nt:Q._=nt:J._=nt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],2:[function(require,module,exports){
function DOMParser(t){this.options=t||{locator:{}}}function buildErrorHandler(t,e,n){function r(e){var r=t[e];if(!r)if(i)r=2==t.length?function(n){t(e,n)}:t;else for(var a=arguments.length;--a&&!(r=t[arguments[a]]););o[e]=r&&function(t){r(t+_locator(n))}||function(){}}if(!t){if(e instanceof DOMHandler)return e;t=e}var o={},i=t instanceof Function;return n=n||{},r("warning","warn"),r("error","warn","warning"),r("fatalError","warn","warning","error"),o}function DOMHandler(){this.cdata=!1}function position(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function _locator(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}function _toString(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function appendElement(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}if(DOMParser.prototype.parseFromString=function(t,e){var n=this.options,r=new XMLReader,o=n.domBuilder||new DOMHandler,i=n.errorHandler,a=n.locator,c=n.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return a&&o.setDocumentLocator(a),r.errorHandler=buildErrorHandler(i,o,a),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(e)&&(l.nbsp=" ",l.copy="©",c[""]="http://www.w3.org/1999/xhtml"),t?r.parse(t,c,l):r.errorHandler.error("invalid document source"),o.document},DOMHandler.prototype={startDocument:function(){this.document=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var o=this.document,i=o.createElementNS(t,n||e),a=r.length;appendElement(this,i),this.currentElement=i,this.locator&&position(this.locator,i);for(var c=0;a>c;c++){var t=r.getURI(c),l=r.getValue(c),n=r.getQName(c),s=o.createAttributeNS(t,n);s.getOffset&&position(s.getOffset(1),s),s.value=s.nodeValue=l,i.setAttributeNode(s)}},endElement:function(){{var t=this.currentElement;t.tagName}this.currentElement=t.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e);this.locator&&position(this.locator,n),appendElement(this,n)},ignorableWhitespace:function(){},characters:function(t){if(t=_toString.apply(this,arguments),this.currentElement&&t){if(this.cdata){var e=this.document.createCDATASection(t);this.currentElement.appendChild(e)}else{var e=this.document.createTextNode(t);this.currentElement.appendChild(e)}this.locator&&position(this.locator,e)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t){t=_toString.apply(this,arguments);var e=this.document.createComment(t);this.locator&&position(this.locator,e),appendElement(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.document.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(t,e,n);this.locator&&position(this.locator,o),appendElement(this,o)}},warning:function(t){console.warn(t,_locator(this.locator))},error:function(t){console.error(t,_locator(this.locator))},fatalError:function(t){throw console.error(t,_locator(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){DOMHandler.prototype[t]=function(){return null}}),"function"==typeof require){var XMLReader=require("./sax").XMLReader,DOMImplementation=exports.DOMImplementation=require("./dom").DOMImplementation;exports.XMLSerializer=require("./dom").XMLSerializer,exports.DOMParser=DOMParser}
},{"./dom":3,"./sax":4}],3:[function(require,module,exports){
function copy(e,t){for(var n in e)t[n]=e[n]}function _extends(e,t){function n(){}var o=e.prototype;if(Object.create){var i=Object.create(t.prototype);o.__proto__=i}o instanceof t||(n.prototype=t.prototype,n=new n,copy(o,n),e.prototype=o=n),o.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),o.constructor=e)}function DOMException(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,ExceptionMessage[e]),this.message=ExceptionMessage[e],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return n.code=e,t&&(this.message=this.message+": "+t),n}function NodeList(){}function LiveNodeList(e,t){this._node=e,this._refresh=t,_updateLiveList(this)}function _updateLiveList(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);__set__(e,"length",n.length),copy(n,e),e._inc=t}}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function _addNamedNode(e,t,n,o){if(o?t[_findNodeIndex(t,o)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(o&&_onRemoveAttribute(i,e,o),_onAddAttribute(i,e,n))}}function _removeNamedNode(e,t,n){var o=_findNodeIndex(t,n);if(!(o>=0))throw DOMException(NOT_FOUND_ERR,new Error);for(var i=t.length-1;i>o;)t[o]=t[++o];if(t.length=i,e){var r=e.ownerDocument;r&&(_onRemoveAttribute(r,e,n),n.ownerElement=null)}}function DOMImplementation(e){if(this._features={},e)for(var t in e)this._features=e[t]}function Node(){}function _xmlEncoder(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))return!0;if(e=e.firstChild)do if(_visitNode(e,t))return!0;while(e=e.nextSibling)}function Document(){}function _onAddAttribute(e,t,n){e&&e._inc++;var o=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==o&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function _onRemoveAttribute(e,t,n){e&&e._inc++;var o=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==o&&delete t._nsMap[n.prefix?n.localName:""]}function _onUpdateChild(e,t,n){if(e&&e._inc){e._inc++;var o=t.childNodes;if(n)o[o.length++]=n;else{for(var i=t.firstChild,r=0;i;)o[r++]=i,i=i.nextSibling;o.length=r}}}function _removeChild(e,t){var n=t.previousSibling,o=t.nextSibling;return n?n.nextSibling=o:e.firstChild=o,o?o.previousSibling=n:e.lastChild=n,_onUpdateChild(e.ownerDocument,e),t}function _insertBefore(e,t,n){var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===DOCUMENT_FRAGMENT_NODE){var i=t.firstChild;if(null==i)return t;var r=t.lastChild}else i=r=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,r.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=r:n.previousSibling=r;do i.parentNode=e;while(i!==r&&(i=i.nextSibling));return _onUpdateChild(e.ownerDocument||e,e),t.nodeType==DOCUMENT_FRAGMENT_NODE&&(t.firstChild=t.lastChild=null),t}function _appendSingleChild(e,t){var n=t.parentNode;if(n){var o=e.lastChild;n.removeChild(t);var o=e.lastChild}var o=e.lastChild;return t.parentNode=e,t.previousSibling=o,t.nextSibling=null,o?o.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(e,t){switch(e.nodeType){case ELEMENT_NODE:var n=e.attributes,o=n.length,i=e.firstChild,r=e.tagName,a=htmlns===e.namespaceURI;t.push("<",r);for(var s=0;o>s;s++)serializeToString(n.item(s),t,a);if(i||a&&!/^(?:meta|link|img|br|hr|input)$/i.test(r)){if(t.push(">"),a&&/^script$/i.test(r))i&&t.push(i.data);else for(;i;)serializeToString(i,t),i=i.nextSibling;t.push("</",r,">")}else t.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var i=e.firstChild;i;)serializeToString(i,t),i=i.nextSibling;return;case ATTRIBUTE_NODE:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE:return t.push(e.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return t.push("<![CDATA[",e.data,"]]>");case COMMENT_NODE:return t.push("<!--",e.data,"-->");case DOCUMENT_TYPE_NODE:var u=e.publicId,d=e.systemId;if(t.push("<!DOCTYPE ",e.name),u)t.push(' PUBLIC "',u),d&&"."!=d&&t.push('" "',d),t.push('">');else if(d&&"."!=d)t.push(' SYSTEM "',d,'">');else{var c=e.internalSubset;c&&t.push(" [",c,"]"),t.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return t.push("<?",e.target," ",e.data,"?>");case ENTITY_REFERENCE_NODE:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function importNode(e,t,n){var o;switch(t.nodeType){case ELEMENT_NODE:o=t.cloneNode(!1),o.ownerDocument=e;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:n=!0}if(o||(o=t.cloneNode(!1)),o.ownerDocument=e,o.parentNode=null,n)for(var i=t.firstChild;i;)o.appendChild(importNode(e,i,n)),i=i.nextSibling;return o}function cloneNode(e,t,n){var o=new t.constructor;for(var i in t){var r=t[i];"object"!=typeof r&&r!=o[i]&&(o[i]=r)}switch(t.childNodes&&(o.childNodes=new NodeList),o.ownerDocument=e,o.nodeType){case ELEMENT_NODE:var a=t.attributes,s=o.attributes=new NamedNodeMap,u=a.length;s._ownerElement=o;for(var d=0;u>d;d++)o.setAttributeNode(cloneNode(e,a.item(d),!0));break;case ATTRIBUTE_NODE:n=!0}if(n)for(var c=t.firstChild;c;)o.appendChild(cloneNode(e,c,n)),c=c.nextSibling;return o}function __set__(e,t,n){e[t]=n}function getTextContent(e){switch(e.nodeType){case 1:case 11:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(getTextContent(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},INDEX_SIZE_ERR=ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),DOMSTRING_SIZE_ERR=ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),WRONG_DOCUMENT_ERR=ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),INVALID_CHARACTER_ERR=ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),NO_DATA_ALLOWED_ERR=ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),NO_MODIFICATION_ALLOWED_ERR=ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8),NOT_SUPPORTED_ERR=ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10),INVALID_STATE_ERR=ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),SYNTAX_ERR=ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),INVALID_MODIFICATION_ERR=ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),NAMESPACE_ERR=ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),INVALID_ACCESS_ERR=ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var n=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return _removeNamedNode(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return _removeNamedNode(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var o=this[n];if(o.localName==t&&o.namespaceURI==e)return o}return null}},DOMImplementation.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return n&&(!t||t in n)?!0:!1},createDocument:function(e,t,n){var o=new Document;if(o.doctype=n,n&&o.appendChild(n),o.implementation=this,o.childNodes=new NodeList,t){var i=o.createElementNS(e,t);o.appendChild(i)}return o},createDocumentType:function(e,t,n){var o=new DocumentType;return o.name=e,o.nodeName=e,o.publicId=t,o.systemId=n,o}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _insertBefore(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return cloneNode(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==TEXT_NODE&&e.nodeType==TEXT_NODE?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var o in n)if(n[o]==e)return o;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==DOCUMENT_FRAGMENT_NODE){for(var n=e.firstChild;n;){var o=n.nextSibling;this.insertBefore(n,t),n=o}return e}return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),_insertBefore(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),_removeChild(this,e)},importNode:function(e,t){return importNode(this,e,t)},getElementById:function(e){var t=null;return _visitNode(this.documentElement,function(n){return 1==n.nodeType&&n.getAttribute("id")==e?(t=n,!0):void 0}),t},createElement:function(e){var t=new Element;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new NodeList;var n=t.attributes=new NamedNodeMap;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var t=new Text;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Comment;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new CDATASection;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ProcessingInstruction;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Attr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new EntityReference;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Element,o=t.split(":"),i=n.attributes=new NamedNodeMap;return n.childNodes=new NodeList,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==o.length?(n.prefix=o[0],n.localName=o[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new Attr,o=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==o.length?(n.prefix=o[0],n.localName=o[1]):n.localName=t,n}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(e,null):_appendSingleChild(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var o=this.ownerDocument.createAttributeNS(e,t);o.value=o.nodeValue=n,this.setAttributeNode(o)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new LiveNodeList(this,function(t){var n=[];return _visitNode(t,function(o){o===t||o.nodeType!=ELEMENT_NODE||"*"!==e&&o.tagName!=e||n.push(o)}),n})},getElementsByTagNameNS:function(e,t){return new LiveNodeList(this,function(n){var o=[];return _visitNode(n,function(i){i===n||i.nodeType!==ELEMENT_NODE||i.namespaceURI!==e||"*"!==t&&i.localName!=t||o.push(i)}),o})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(){throw new Error(ExceptionMessage[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var o=this.data.substring(0,e),i=this.data.substring(e+t);n=o+n+i,this.nodeValue=this.data=n,this.length=n.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var o=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling),o}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(e){var t=[];return serializeToString(e,t),t.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=value,this.nodeValue=e}}}),__set__=function(e,t,n){e["$$"+t]=n})}catch(e){}"function"==typeof require&&(exports.DOMImplementation=DOMImplementation,exports.XMLSerializer=XMLSerializer);
},{}],4:[function(require,module,exports){
function XMLReader(){}function parse(e,t,r,a,n){function s(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function i(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?s(parseInt(t.substr(1).replace("x","0x"))):(n.error("entity not found:"+e),e)}function c(t){var r=e.substring(S,t).replace(/&#?\w+;/g,i);m&&o(S),a.characters(r,0,t-S),S=t}function o(t,r){for(;t>=l&&(r=f.exec(e));)u=r.index,l=u+r[0].length,m.lineNumber++;m.columnNumber=t-u+1}for(var u=0,l=0,f=/.+(?:\r\n?|\n)|.*$/g,m=a.locator,p=[{currentNSMap:t}],d={},S=0;;){var _=e.indexOf("<",S);if(0>_){if(!e.substr(S).match(/^\s*$/)){var h=a.document,g=h.createTextNode(e.substr(S));h.appendChild(g),a.currentElement=g}return}switch(_>S&&c(_),e.charAt(_+1)){case"/":var w=e.indexOf(">",_+3),b=e.substring(_+2,w),v=p.pop(),x=v.localNSMap;if(v.tagName!=b&&n.fatalError("end tag name: "+b+" is not match the current start tagName:"+v.tagName),a.endElement(v.uri,v.localName,b),x)for(var T in x)a.endPrefixMapping(T);w++;break;case"?":m&&o(_),w=parseInstruction(e,_,a);break;case"!":m&&o(_),w=parseDCC(e,_,a,n);break;default:try{m&&o(_);var N=new ElementAttributes,w=parseElementStartPart(e,_,N,i,n),E=N.length;if(E&&m){for(var A=copyLocator(m,{}),_=0;E>_;_++){var C=N[_];o(C.offset),C.offset=copyLocator(m,{})}copyLocator(A,m)}!N.closed&&fixSelfClosed(e,w,N.tagName,d)&&(N.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),appendElement(N,a,p),"http://www.w3.org/1999/xhtml"!==N.uri||N.closed?w++:w=parseHtmlSpecialContent(e,w,N.tagName,i,a)}catch(F){n.error("element parse error: "+F),w=-1}}0>w?c(_+1):S=w}}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function parseElementStartPart(e,t,r,a,n){for(var s,i,c=++t,o=S_TAG;;){var u=e.charAt(c);switch(u){case"=":if(o===S_ATTR)s=e.slice(t,c),o=S_EQ;else{if(o!==S_ATTR_S)throw new Error("attribute equal must after attrName");o=S_EQ}break;case"'":case'"':if(o===S_EQ){if(t=c+1,c=e.indexOf(u,t),!(c>0))throw new Error("attribute value no end '"+u+"' match");i=e.slice(t,c).replace(/&#?\w+;/g,a),r.add(s,i,t-1),o=S_E}else{if(o!=S_V)throw new Error('attribute value must after "="');i=e.slice(t,c).replace(/&#?\w+;/g,a),r.add(s,i,t),n.warning('attribute "'+s+'" missed start quot('+u+")!!"),t=c+1,o=S_E}break;case"/":switch(o){case S_TAG:r.setTagName(e.slice(t,c));case S_E:case S_S:case S_C:o=S_C,r.closed=!0;case S_V:case S_ATTR:case S_ATTR_S:break;default:throw new Error("attribute invalid close char('/')")}break;case"":n.error("unexpected end of input");case">":switch(o){case S_TAG:r.setTagName(e.slice(t,c));case S_E:case S_S:case S_C:break;case S_V:case S_ATTR:i=e.slice(t,c),"/"===i.slice(-1)&&(r.closed=!0,i=i.slice(0,-1));case S_ATTR_S:o===S_ATTR_S&&(i=s),o==S_V?(n.warning('attribute "'+i+'" missed quot(")!!'),r.add(s,i.replace(/&#?\w+;/g,a),t)):(n.warning('attribute "'+i+'" missed value!! "'+i+'" instead!!'),r.add(i,i,t));break;case S_EQ:throw new Error("attribute value missed!!")}return c;case"":u=" ";default:if(" ">=u)switch(o){case S_TAG:r.setTagName(e.slice(t,c)),o=S_S;break;case S_ATTR:s=e.slice(t,c),o=S_ATTR_S;break;case S_V:var i=e.slice(t,c).replace(/&#?\w+;/g,a);n.warning('attribute "'+i+'" missed quot(")!!'),r.add(s,i,t);case S_E:o=S_S}else switch(o){case S_ATTR_S:n.warning('attribute "'+s+'" missed value!! "'+s+'" instead!!'),r.add(s,s,t),t=c,o=S_ATTR;break;case S_E:n.warning('attribute space is required"'+s+'"!!');case S_S:o=S_ATTR,t=c;break;case S_EQ:o=S_V,t=c;break;case S_C:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function appendElement(e,t,r){for(var a=e.tagName,n=null,s=r[r.length-1].currentNSMap,i=e.length;i--;){var c=e[i],o=c.qName,u=c.value,l=o.indexOf(":");if(l>0)var f=c.prefix=o.slice(0,l),m=o.slice(l+1),p="xmlns"===f&&m;else m=o,f=null,p="xmlns"===o&&"";c.localName=m,p!==!1&&(null==n&&(n={},_copy(s,s={})),s[p]=n[p]=u,c.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,u))}for(var i=e.length;i--;){c=e[i];var f=c.prefix;f&&("xml"===f&&(c.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==f&&(c.uri=s[f]))}var l=a.indexOf(":");l>0?(f=e.prefix=a.slice(0,l),m=e.localName=a.slice(l+1)):(f=null,m=e.localName=a);var d=e.uri=s[f||""];if(t.startElement(d,m,a,e),e.closed){if(t.endElement(d,m,a),n)for(f in n)t.endPrefixMapping(f)}else e.currentNSMap=s,e.localNSMap=n,r.push(e)}function parseHtmlSpecialContent(e,t,r,a,n){if(/^(?:script|textarea)$/i.test(r)){var s=e.indexOf("</"+r+">",t),i=e.substring(t+1,s);if(/[&<]/.test(i))return/^script$/i.test(r)?(n.characters(i,0,i.length),s):(i=i.replace(/&#?\w+;/g,a),n.characters(i,0,i.length),s)}return t+1}function fixSelfClosed(e,t,r,a){var n=a[r];return null==n&&(n=a[r]=e.lastIndexOf("</"+r+">")),t>n}function _copy(e,t){for(var r in e)t[r]=e[r]}function parseDCC(e,t,r,a){var n=e.charAt(t+2);switch(n){case"-":if("-"===e.charAt(t+3)){var s=e.indexOf("-->",t+4);return s>t?(r.comment(e,t+4,s-t-4),s+3):(a.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){var s=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,s-t-9),r.endCDATA(),s+3}var i=split(e,t),c=i.length;if(c>1&&/!doctype/i.test(i[0][0])){var o=i[1][0],u=c>3&&/^public$/i.test(i[2][0])&&i[3][0],l=c>4&&i[4][0],f=i[c-1];return r.startDTD(o,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),f.index+f[0].length}}return-1}function parseInstruction(e,t,r){var a=e.indexOf("?>",t);if(a){var n=e.substring(t,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){{n[0].length}return r.processingInstruction(n[1],n[2]),a+2}return-1}return-1}function ElementAttributes(){}function _set_proto_(e,t){return e.__proto__=t,e}function split(e,t){var r,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(a.push(r),r[1])return a}var nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_S=2,S_EQ=3,S_V=4,S_E=5,S_S=6,S_C=7;XMLReader.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),_copy(t,t={}),parse(e,t,r,a,this.errorHandler),a.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!tagNamePattern.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!tagNamePattern.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(e,t){function r(){}r.prototype=t,r=new r;for(t in e)r[t]=e[t];return r}),"function"==typeof require&&(exports.XMLReader=XMLReader);
},{}],5:[function(require,module,exports){
"use strict";var Color=require("../objects/color"),g={};g.isDrawable=function(o){return Array.isArray(o)&&(o=o[0]),o?"function"==typeof o.draw?!0:void 0!==o.x&&void 0!==o.y?!0:void 0!==o.r&&void 0!==o.g&&void 0!==o.b?!0:!1:!1},g.drawPoints=function(o,r){var i,e;for(o.fillStyle="blue",o.beginPath(),e=0;e<r.length;e+=1)i=r[e],o.moveTo(i.x,i.y),o.arc(i.x,i.y,2,0,2*Math.PI,!1);o.fill()},g.drawColors=function(o,r){var i,e;for(o.save(),i=0;i<r.length;i+=1)e=r[i],o.fillStyle=Color.toCSS(e),o.fillRect(0,0,30,30),o.translate(30,0);o.restore()},g.draw=function(o,r){var i,e,t;if(r)if("function"==typeof r.draw)r.draw(o);else if(void 0!==r.x&&void 0!==r.y)g.drawPoints(o,[r]);else if(void 0!==r.r&&void 0!==r.g&&void 0!==r.b)g.drawColors(o,[r]);else if(Array.isArray(r)&&(e=r.length,e>0))if(t=r[0],"function"==typeof t.draw)for(i=0;e>i;i+=1)g.draw(o,r[i]);else void 0!==t.x&&void 0!==t.y?g.drawPoints(o,r):void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&g.drawColors(o,r)},module.exports=g;
},{"../objects/color":9}],6:[function(require,module,exports){
"use strict";var _=require("lodash"),bezier=require("../util/bezier"),geo=require("../util/geo"),math=require("../util/math"),random=require("../util/random"),Color=require("../objects/color"),Group=require("../objects/group"),Path=require("../objects/path"),Point=require("../objects/point"),Rect=require("../objects/rect"),Transform=require("../objects/transform"),g={};g.bounds=function(e){var n,r,t;if(e){if("function"==typeof e.bounds)return e.bounds();if(void 0!==e.x&&void 0!==e.y)return new Rect(e.x,e.y,0,0);if(void 0!==e.r&&void 0!==e.g&&void 0!==e.b)return new g.Rect(0,0,30,30);if(Array.isArray(e)){if(n=null,t=e.length,t>0&&void 0!==e[0].r&&void 0!==e[0].g&&void 0!==e[0].b)return new Rect(0,0,30*e.length,30);for(r=0;t>r;r+=1)n=n?n.unite(g.bounds(e[r])):g.bounds(e[r]);return n||new Rect}return new Rect}return new Rect},g.makeCenteredRect=function(e,n,r,t){var o=e-r/2,a=n-t/2;return new Rect(o,a,r,t)},g.makePoint=function(e,n){return new Point(e,n)},g.makeRect=function(e,n,r,t){return new Rect(e,n,r,t)},g.merge=function(){return new Group(_.reject(_.flatten(arguments,!0),_.isEmpty))},g.combinePaths=function(e){return Path.combine(e)},g.shapePoints=g.toPoints=function(e){if(!e)return[];if(e.commands)return _.map(_.filter(e.commands,function(e){return void 0!==e.x?!0:!1}),function(e){return{x:e.x,y:e.y}});var n,r=[];for(n=0;n<e.shapes.length;n+=1)r=r.concat(g.shapePoints(e.shapes[n]));return r},g.colorize=function(e,n,r,t){return e?e.colorize(n,r,t):void 0},g.translate=function(e,n){n||(n=Point.ZERO);var r=(new Transform).translate(n.x,n.y);return r.transformShape(e)},g.scale=function(e,n,r){r||(r=Point.ZERO);var t,o;"number"==typeof n?(t=n,o=n):(t=n.x,o=n.y);var a=new Transform;return a=a.translate(r.x,r.y),a=a.scale(t/100,o/100),a=a.translate(-r.x,-r.y),a.transformShape(e)},g.rotate=function(e,n,r){r||(r=Point.ZERO);var t=new Transform;return t=t.translate(r.x,r.y),t=t.rotate(n),t=t.translate(-r.x,-r.y),t.transformShape(e)},g.skew=function(e,n,r){r||(r=Point.ZERO);var t=new Transform;return t=t.translate(r.x,r.y),t=t.skew(n.x,n.y),t=t.translate(-r.x,-r.y),t.transformShape(e)},g.copy=function(e,n,r,t,o,a){var i,s,u,h,f=[],c=0,g=0,l=0,y=1,m=1;for(i=0;n>i;i+=1){for(s=new Transform,u=0;u<r.length;u+=1)h=r[u],"t"===h?s=s.translate(c,g):"r"===h?s=s.rotate(l):"s"===h&&(s=s.scale(y,m));f.push(s.transformShape(e)),c+=t.x,g+=t.y,l+=o,y+=a.x,m+=a.y}return f},g.fit=function(e,n,r,t,o){if(e){o=void 0!==o?o:!0;var a,i,s,u=e.bounds(),h=u.x,f=u.y,c=u.width,g=u.height;return c=c>1e-12?c:0,g=g>1e-12?g:0,a=new Transform,a=a.translate(n.x,n.y),o?(i=c>0?r/c:Number.MAX_VALUE,s=g>0?t/g:Number.MAX_VALUE,i=s=Math.min(i,s)):(i=c>0?r/c:1,s=g>0?t/g:1),a=a.scale(i,s),a=a.translate(-c/2-h,-g/2-f),a.transformShape(e)}},g.fitTo=function(e,n,r){if(e&&n){var t=n.bounds(),o=t.x,a=t.y,i=t.width,s=t.height;return g.fit(e,{x:o+i/2,y:a+s/2},i,s,r)}},g.reflect=function(e,n,r,t){if(e){n=n||new Point,r=r||0;var o=function(e,t){var o=geo.distance(e,t,n.x,n.y),a=geo.angle(e,t,n.x,n.y),i=geo.coordinates(n.x,n.y,o*Math.cos(math.radians(a-r)),180+r);return o=geo.distance(e,t,i.x,i.y),a=geo.angle(e,t,i.x,i.y),i=geo.coordinates(e,t,2*o,a),new Point(i.x,i.y)},a=function(e){for(var n,r,t,a=new Path([],e.fill,e.stroke,e.strokeWidth),i=0;i<e.commands.length;i+=1){var s=e.commands[i];if(s.type===bezier.MOVETO)n=o(s.x,s.y),a.moveTo(n.x,n.y);else if(s.type===bezier.LINETO)n=o(s.x,s.y),a.lineTo(n.x,n.y);else if(s.type===bezier.CURVETO)n=o(s.x,s.y),r=o(s.x1,s.y1),t=o(s.x2,s.y2),a.curveTo(r.x,r.y,t.x,t.y,n.x,n.y);else{if(s.type!==bezier.CLOSE)throw new Error("Unknown command "+s);a.close()}}return a},i=function(e){var n=_.map(e.shapes,function(e){return s(e)});return new Group(n)},s=function(e){var n=e.shapes?i:a;return n(e)},u=s(e);return t?new Group([e,u]):u}},g.resample=function(e,n,r,t,o){return e?"length"===n?e.resampleByLength(r):e.resampleByAmount(t,o):void 0},g.wiggle=function(e,n,r,t){var o,a,i,s;if(n=n||"points",void 0===r?r={x:10,y:10}:"number"==typeof r&&(r={x:r,y:r}),t=void 0!==t?t:Math.random(),o=random.generator(t),a=function(e){var n,t,i;if(e.commands){var s=new Path([],e.fill,e.stroke,e.strokeWidth);for(n=0;n<e.commands.length;n+=1){t=(o(0,1)-.5)*r.x*2,i=(o(0,1)-.5)*r.y*2;var u=e.commands[n];u.type===bezier.MOVETO?s.moveTo(u.x+t,u.y+i):u.type===bezier.LINETO?s.lineTo(u.x+t,u.y+i):u.type===bezier.CURVETO?s.curveTo(u.x1,u.y1,u.x2,u.y2,u.x+t,u.y+i):u.type===bezier.CLOSE&&s.close()}return s}if(e.shapes)return new Group(_.map(e.shapes,a));if(Array.isArray(e)&&e.length>0&&void 0!==e[0].x&&void 0!==e[0].y){var h=[];for(n=0;n<e.length;n+=1)t=(o(0,1)-.5)*r.x*2,i=(o(0,1)-.5)*r.y*2,h.push(new Point(e[n].x+t,e[n].y+i));return h}return _.map(e,a)},i=function(e){if(e.commands)return e;if(e.shapes){var n,t,a,s,u,h=[];for(n=0;n<e.shapes.length;n+=1)t=e.shapes[n],t.commands?(a=(o(0,1)-.5)*r.x*2,s=(o(0,1)-.5)*r.y*2,u=(new Transform).translate(a,s),h.push(u.transformShape(t))):t.shapes&&h.push(i(t));return new Group(h)}return _.map(e,i)},s=function(e){if(e.commands){var n,t,a,i,u=g.getContours(e),h=[];for(n=0;n<u.length;n+=1)t=(o(0,1)-.5)*r.x*2,a=(o(0,1)-.5)*r.y*2,i=(new Transform).translate(t,a),h=h.concat(i.transformShape(new Path(u[n])).commands);return new Path(h,e.fill,e.stroke,e.strokeWidth)}return e.shapes?new Group(_.map(e.shapes,s)):_.map(e,s)},"points"===n)return a(e);if("paths"===n)return i(e);if("contours"===n)return s(e);throw new Error("Invalid scope.")},g.scatter=function(e,n,r){if(e){var t,o,a,i,s=random.generator(r),u=e.bounds(),h=u.x,f=u.y,c=u.width,g=u.height,l=[];for(t=0;n>t;t+=1)for(o=100;o>0;){if(a=h+s(0,1)*c,i=f+s(0,1)*g,e.contains(a,i)){l.push(new Point(a,i));break}o-=1}return l}},g.connect=function(e,n){if(e){for(var r=new Path,t=0;t<e.length;t+=1){var o=e[t];0===t?r.moveTo(o.x,o.y):r.lineTo(o.x,o.y)}return n&&r.close(),r.fill=null,r.stroke=Color.BLACK,r}},g.align=function(e,n,r,t){if(e){var o,a,i,s=n.x,u=n.y,h=e.bounds();return o="left"===r?s-h.x:"right"===r?s-h.x-h.width:"center"===r?s-h.x-h.width/2:0,a="top"===t?u-h.y:"bottom"===t?u-h.y-h.height:"middle"===t?u-h.y-h.height/2:0,i=(new Transform).translate(o,a),i.transformShape(e)}},g.snap=function(e,n,r,t){if(e){r=void 0!==r?r:100,r/=100,t=t||Point.ZERO;var o=function(e){if(e.commands){for(var a=new Path([],e.fill,e.stroke,e.strokeWidth),i=0;i<e.commands.length;i+=1){var s=e.commands[i];if(s.type===bezier.MOVETO||s.type===bezier.LINETO||s.type===bezier.CURVETO){var u=math.snap(s.x+t.x,n,r)-t.x,h=math.snap(s.y+t.y,n,r)-t.y;if(s.type===bezier.MOVETO)a.moveTo(u,h);else if(s.type===bezier.LINETO)a.lineTo(u,h);else if(s.type===bezier.CURVETO){var f=math.snap(s.x1+t.x,n,r)-t.x,c=math.snap(s.y1+t.y,n,r)-t.y,g=math.snap(s.x2+t.x,n,r)-t.x,l=math.snap(s.y2+t.y,n,r)-t.y;a.curveTo(f,c,g,l,u,h)}}else{if(s.type!==bezier.CLOSE)throw new Error("Invalid path command "+s);a.close()}}return a}return e.shapes?new Group(_.map(e.shapes,o)):_.map(e,o)};return o(e)}},g.deletePoints=function(e,n,r){var t=function(e){var o,a,i,s=[],u=[];if(e.commands){for(o=0;o<e.commands.length;o+=1)a=e.commands[o],(void 0===a.x||!r&&n.contains(a.x,a.y)||r&&!n.contains(a.x,a.y))&&s.push(a);return new Path(s,e.fill,e.stroke,e.strokeWidth)}if(e.shapes)return new Group(_.map(e.shapes,t));if(Array.isArray(e)&&e.length>0&&void 0!==e[0].x&&void 0!==e[0].y){for(o=0;o<e.length;o+=1)i=e[o],(!r&&n.contains(i.x,i.y)||r&&!n.contains(i.x,i.y))&&u.push(i);return u}return _.map(e,t)};return t(e)},g.deletePaths=function(e,n,r){var t=function(e){if(e.commands)return null;if(e.shapes){var o,a,i,s,u,h,f=[];for(o=0;o<e.shapes.length;o+=1)if(i=e.shapes[o],i.commands){for(s=!1,a=0;a<i.commands.length;a+=1)if(u=i.commands[a],void 0!==u.x&&n.contains(u.x,u.y)){s=!0;break}s!==r&&f.push(i)}else i.shapes&&(h=t(i),0!==h.length&&f.push(h));return new Group(f)}return _.map(e,t)};return t(e)},g["delete"]=function(e,n,r,t){if(null===e||null===n)return null;if("points"===r)return g.deletePoints(e,n,t);if("paths"===r)return g.deletePaths(e,n,t);throw new Error("Invalid scope.")},g.pointOnPath=function(e,n){var r;if(e)return e.shapes&&(e=new Path(g.combinePaths(e))),n=Math.abs(n%100),r=e.point(n/100),{x:r.x,y:r.x}},g.shapeOnPath=function(e,n,r,t,o,a,i){function s(a){if("distributed"===t){var s=y/(r*e.length-1);h=d*s/y,h=m+h*(1-2*m)}else h=d*o%y/y,h=m+h*(1-m),"trailing"===t&&(h=1-h);f=n.point(h),c=n.point(h+1e-7),g=geo.angle(f.x,f.y,c.x,c.y),i&&(f=geo.coordinates(f.x,f.y,i,g-90)),l=new Transform,l=l.translate(f.x,f.y),l=l.rotate(g),p.push(l.transformShape(a)),d+=1}if(!e)return[];if(null===n)return[];"trailing"===t&&(e=e.slice(),e.reverse());var u,h,f,c,g,l,y=n.length()-a,m=a/n.length(),d=0,p=[];for(u=0;r>u;u+=1)_.each(e,s);return p},g._x=function(e){return void 0!==e.x?e.x:e.bounds().x},g._y=function(e){return void 0!==e.y?e.y:e.bounds().y},g._angleToPoint=function(e){return function(n){if(void 0!==n.x&&void 0!==n.y)return geo.angle(n.x,n.y,e.x,e.y);var r=n.bounds().centroid();return geo.angle(r.x,r.y,e.x,e.y)}},g._distanceToPoint=function(e){return function(n){if(void 0!==n.x&&void 0!==n.y)return geo.distance(n.x,n.y,e.x,e.y);var r=n.bounds().centroid();return geo.distance(r.x,r.y,e.x,e.y)}},g.sort=function(e,n,r){if(e){var t,o,a;return t={x:g._x,y:g._y,angle:g._angleToPoint(r),distance:g._distanceToPoint(r)},o=t[n],void 0===o?e:(a=e.slice(0),a.sort(function(e,n){var r=o(e),t=o(n);return t>r?-1:r>t?1:0}),a)}},g.group=function(){return new Group(_.flatten(arguments))},g.ungroup=function(e){if(e){if(e.shapes){var n,r,t=[];for(n=0;n<e.shapes.length;n+=1)r=e.shapes[n],r.commands?t.push(r):r.shapes&&(t=t.concat(g.ungroup(r)));return t}return e.commands?[e]:[]}return[]},g.centroid=function(e){if(!e)return Point.ZERO;var n=e.bounds();return new Point(n.x+n.width/2,n.y+n.height/2)},g.link=function(e,n,r){if(e&&n){var t=new Path,o=e.bounds(),a=n.bounds();if("horizontal"===r){var i=(a.x-(o.x+o.width))/2;t.moveTo(o.x+o.width,o.y),t.curveTo(o.x+o.width+i,o.y,a.x-i,a.y,a.x,a.y),t.lineTo(a.x,a.y+a.height),t.curveTo(a.x-i,a.y+a.height,o.x+o.width+i,o.y+o.height,o.x+o.width,o.y+o.height),t.close()}else{var s=(a.y-(o.y+o.height))/2;t.moveTo(o.x,o.y+o.height),t.curveTo(o.x,o.y+o.height+s,a.x,a.y-s,a.x,a.y),t.lineTo(a.x+a.width,a.y),t.curveTo(a.x+a.width,a.y-s,o.x+o.width,o.y+o.height+s,o.x+o.width,o.y+o.height),t.close()}return t}},g.stack=function(e,n,r){if(!e)return[];if(e.length<=1)return e;var t,o,a,i,s=e[0].bounds(),u=[];return"e"===n?(t=-(s.width/2),_.each(e,function(e){i=e.bounds(),a=(new Transform).translate(t-i.x,0),u.push(a.transformShape(e)),t+=i.width+r})):"w"===n?(t=s.width/2,_.each(e,function(e){i=e.bounds(),a=(new Transform).translate(t+i.x,0),u.push(a.transformShape(e)),t-=i.width+r})):"n"===n?(o=s.height/2,_.each(e,function(e){i=e.bounds(),a=(new Transform).translate(0,o+i.y),u.push(a.transformShape(e)),o-=i.height+r})):"s"===n&&(o=-(s.height/2),_.each(e,function(e){i=e.bounds(),a=(new Transform).translate(0,o-i.y),u.push(a.transformShape(e)),o+=i.height+r})),u},g.colorLookup=function(e,n){switch(e=Color.parse(e),n){case"r":return e.r;case"g":return e.g;case"b":return e.b;case"a":return e.a;case"h":return e.h;case"s":return e.s;case"v":return e.v;default:throw new Error("Unknown component "+n)}},module.exports=g;
},{"../objects/color":9,"../objects/group":10,"../objects/path":12,"../objects/point":13,"../objects/rect":14,"../objects/transform":16,"../util/bezier":18,"../util/geo":20,"../util/math":22,"../util/random":23,"lodash":1}],7:[function(require,module,exports){
"use strict";var _=require("lodash"),geo=require("../util/geo"),Color=require("../objects/color"),Path=require("../objects/path"),Point=require("../objects/point"),Text=require("../objects/text"),g={};g._rect=function(e,r,t,n){var o=new Path;return o.addRect(e,r,t,n),o},g.roundedRect=function(e,r,t,n,o,a){var u=new Path;return u.addRoundedRect(e,r,t,n,o,a),u},g._ellipse=function(e,r,t,n){var o=new Path;return o.addEllipse(e,r,t,n),o},g._line=function(e,r,t,n){var o=new Path;return o.addLine(e,r,t,n),o},g.quad=function(e,r,t,n,o,a,u,i){var l=new Path;return l.addQuad(e,r,t,n,o,a,u,i),l},g._arc=function(e,r,t,n,o,a,u){var i=new Path;return i.addArc(e,r,t,n,o,a,u),i},g.rect=function(e,r,t,n){return void 0===n||0===n||0===n.x&&0===n.y?g._rect(e.x-r/2,e.y-t/2,r,t):"number"==typeof n?g.roundedRect(e.x-r/2,e.y-t/2,r,t,n,n):g.roundedRect(e.x-r/2,e.y-t/2,r,t,n.x,n.y)},g.ellipse=function(e,r,t){return g._ellipse(e.x-r/2,e.y-t/2,r,t)},g.line=function(e,r,t){var n=g._line(e.x,e.y,r.x,r.y);return n.fill=null,n.stroke="black",t>2&&(n=n.resampleByAmount(t,!1)),n},g.lineAngle=function(e,r,t){var n=geo.coordinates(e.x,e.y,t,r);return g.line(e,n)},g.arc=function(e,r,t,n,o,a){return g._arc(e.x,e.y,r,t,n,o,a)},g.quadCurve=function(e,r,t,n){t/=100;var o=e.x+t*(r.x-e.x),a=e.y+t*(r.y-e.y),u=geo.angle(e.x,e.y,r.x,r.y)+90,i=geo.coordinates(o,a,n,u),l=i.x,c=i.y,g=e.x+2/3*(l-e.x),x=e.y+2/3*(c-e.y),y=r.x+2/3*(l-r.x),d=r.y+2/3*(c-r.y),f=new Path;return f.moveTo(e.x,e.y),f.curveTo(g,x,y,d,r.x,r.y),f.fill=null,f.stroke=Color.BLACK,f},g.polygon=function(e,r,t,n){t=Math.max(t,3);var o,a,u,i,l=e.x,c=e.y,g=r,x=360/t,y=0;n===!0&&(o=geo.coordinates(l,c,g,0),a=geo.coordinates(l,c,g,x),y=-geo.angle(a.x,a.y,o.x,o.y));var d=new Path;for(u=0;t>u;u+=1)i=geo.coordinates(l,c,g,x*u+y),0===u?d.moveTo(i.x,i.y):d.lineTo(i.x,i.y);return d.close(),d},g.star=function(e,r,t,n){var o,a,u,i,l,c=new Path;for(c.moveTo(e.x,e.y+t/2),o=1;2*r>o;o+=1)a=o*Math.PI/r,u=o%2===1?n/2:t/2,i=e.x+u*Math.sin(a),l=e.y+u*Math.cos(a),c.lineTo(i,l);return c.close(),c},g.freehand=function(e){var r,t,n,o=function(e){return""!==e},a=_.filter(e.split("M"),o);a=_.map(a,function(e){return e.replace(/,/g," ")});var u=new Path;for(t=0;t<a.length;t+=1)for(n=_.filter(a[t].split(" "),o),r=0;r<n.length;r+=2)if(void 0!==n[r+1]){var i=parseFloat(n[r]),l=parseFloat(n[r+1]);0===r?u.moveTo(i,l):u.lineTo(i,l)}return u.fill=null,u.stroke=Color.BLACK,u},g.grid=function(e,r,t,n,o){var a,u,i,l,c,g,x,y,d,f=[];for(f.length=e*r,o=void 0!==o?o:Point.ZERO,e>1?(a=t/(e-1),u=o.x-t/2):a=u=o.x,r>1?(i=n/(r-1),l=o.y-n/2):i=l=o.y,d=0,c=0;r>c;c+=1)for(g=0;e>g;g+=1)x=u+g*a,y=l+c*i,f[d]=new Point(x,y),d+=1;return f},g.text=function(){var e=Object.create(Text.prototype);return e.constructor=Text.prototype,Text.apply(e,arguments),e},g.demoRect=function(){return new g.rect({x:0,y:0},100,100,{x:0,y:0})},g.demoEllipse=function(){return new g.ellipse({x:0,y:0},100,100)},module.exports=g;
},{"../objects/color":9,"../objects/path":12,"../objects/point":13,"../objects/text":15,"../util/geo":20,"lodash":1}],8:[function(require,module,exports){
"use strict";function importCommands(r){for(var e in r)g[e]=r[e]}var g={};g.bezier=require("./util/bezier"),g.color=require("./util/color"),g.geo=require("./util/geo"),g.math=require("./util/math"),g.random=require("./util/random"),g.svg=require("./util/svg"),g.Color=require("./objects/color"),g.Group=require("./objects/group"),g.Matrix4=require("./objects/matrix4"),g.Path=require("./objects/path"),g.Point=g.Vec2=require("./objects/point"),g.Rect=require("./objects/rect"),g.Text=require("./objects/text"),g.Transform=g.Matrix3=require("./objects/transform"),g.Vec3=require("./objects/vec3"),importCommands(require("./commands/draw")),importCommands(require("./commands/filters")),importCommands(require("./commands/shapes")),module.exports=g;
},{"./commands/draw":5,"./commands/filters":6,"./commands/shapes":7,"./objects/color":9,"./objects/group":10,"./objects/matrix4":11,"./objects/path":12,"./objects/point":13,"./objects/rect":14,"./objects/text":15,"./objects/transform":16,"./objects/vec3":17,"./util/bezier":18,"./util/color":19,"./util/geo":20,"./util/math":22,"./util/random":23,"./util/svg":24}],9:[function(require,module,exports){
"use strict";var color=require("../util/color"),js=require("../util/js"),HSB="HSB",HEX="HEX",Color=function(r,o,e,t,n){var i,l,s,a,u,h;void 0===r?(i=l=s=0,a=1):Array.isArray(r)?(h=o||{},i=void 0!==r[0]?r[0]:0,l=void 0!==r[1]?r[1]:0,s=void 0!==r[2]?r[2]:0,a=void 0!==r[3]?r[3]:h.range||1):void 0!==r.r?(h=o||{},i=r.r,l=r.g,s=r.b,a=void 0!==r.a?r.a:h.range||1):"string"==typeof r?(u=color.hex2rgb(r),i=u[0],l=u[1],s=u[2],a=1):"number"==typeof r&&(1===arguments.length?(i=l=s=r,a=1):2===arguments.length?(i=l=s=r,"number"==typeof o?a=o:(h=o,a=h.range||1)):3===arguments.length?"number"==typeof e?(i=r,l=o,s=e,a=1):(i=l=s=r,a=o,h=e):4===arguments.length?(i=r,l=o,s=e,"number"==typeof t?a=t:(h=t,a=h.range||1)):(i=r,l=o,s=e,a=t,h=n)),h=h||{},void 0!==h.range&&(i/=h.range,l/=h.range,s/=h.range,a/=h.range),h.mode===HSB?(u=color.hsb2rgb(r,o,e),i=u[0],l=u[1],s=u[2]):h.mode===HEX&&(u=color.hex2rgb(r),i=u[0],l=u[1],s=u[2],a=1),this.r=i,this.g=l,this.b=s,this.a=a};Color.BLACK=new Color(0),Color.WHITE=new Color(1),js.defineAlias(Color,"r","red"),js.defineAlias(Color,"g","green"),js.defineAlias(Color,"b","blue"),js.defineAlias(Color,"a","alpha"),js.defineGetter(Color,"h",function(){return color.rgb2hsb(this.r,this.g,this.b)[0]}),js.defineGetter(Color,"s",function(){return color.rgb2hsb(this.r,this.g,this.b)[1]}),js.defineGetter(Color,"v",function(){return color.rgb2hsb(this.r,this.g,this.b)[2]}),js.defineAlias(Color,"h","hue"),js.defineAlias(Color,"s","saturation"),js.defineAlias(Color,"v","value"),js.defineAlias(Color,"v","brightness"),js.defineGetter(Color,"rgb",function(){return[this.r,this.g,this.b]}),js.defineGetter(Color,"rgba",function(){return[this.r,this.g,this.b,this.a]}),js.defineGetter(Color,"hsb",function(){return color.rgb2hsb(this.r,this.g,this.b)}),js.defineGetter(Color,"hsba",function(){return color.rgb2hsb(this.r,this.g,this.b).concat([this.a])}),Color.prototype.toCSS=function(){return Color.toCSS(this)},Color.prototype.toHex=function(){return this.a>=1?color.rgb2hex(this.r,this.g,this.b):color.rgba2hex(this.r,this.g,this.b,this.a)},Color.clone=function(r){return null===r||void 0===r?null:"string"==typeof r?r:new Color(r.r,r.g,r.b,r.a)},Color.toCSS=function(r){if(null===r)return"none";if(void 0===r)return"black";if("string"==typeof r)return r;if(r instanceof Color){var o=Math.round(255*r.r),e=Math.round(255*r.g),t=Math.round(255*r.b);return"rgba("+o+", "+e+", "+t+", "+r.a+")"}throw new Error("Don't know how to convert "+r+" to CSS.")},Color.toHex=function(r){return Color.parse(r).toHex()},Color.make=function(){var r=Object.create(Color.prototype);return r.constructor=Color.prototype,Color.apply(r,arguments),r},Color.parse=function(r){if(void 0===r||null===r)return new Color(0,0,0,0);if(r instanceof Color)return r;if(color.namedColors[r])return Color.make.apply(null,color.namedColors[r]);if("#"===r[0])return new Color(r,0,0,0,{mode:HEX});if("none"===r)return new Color(0,0,0,0);throw new Error("Color "+r+"can not be parsed")},Color.gray=function(r,o,e){return e=Math.max(e,1),new Color(r/e,r/e,r/e,o/e)},Color.rgb=function(r,o,e,t,n){return n=Math.max(n,1),new Color(r/n,o/n,e/n,t/n)},Color.hsb=function(r,o,e,t,n){return n=Math.max(n,1),new Color(r/n,o/n,e/n,t/n,{mode:HSB})},module.exports=Color;
},{"../util/color":19,"../util/js":21}],10:[function(require,module,exports){
"use strict";var _=require("lodash"),Path=require("../objects/path"),Rect=require("../objects/rect"),Group=function(t){t?t.shapes||t.commands?this.shapes=[t]:t&&(this.shapes=t):this.shapes=[]};Group.prototype.add=function(t){this.shapes.push(t)},Group.prototype.clone=function(){var t,e=[],r=this.shapes.length;for(e.length=r,t=0;r>t;t+=1)e[t]=this.shapes[t].clone();return new Group(e)},Group.prototype.colorize=function(t,e,r){var o=_.map(this.shapes,function(o){return o.colorize(t,e,r)});return new Group(o)},Group.prototype.bounds=function(){if(0===this.shapes.length)return new Rect(0,0,0,0);var t,e,r,o=this.shapes;for(t=0;t<o.length;t+=1)r=o[t],void 0===e&&(e=r.bounds()),(r.shapes&&0!==r.shapes.length||r.commands&&0!==r.commands.length)&&(e=e.unite(r.bounds()));return void 0!==e?e:new Rect(0,0,0,0)},Group.prototype.contains=function(t,e,r){void 0===r&&(r=100);var o,n=this.shapes;for(o=0;o<n.length;o+=1)if(n[o].contains(t,e,r))return!0;return!1},Group.prototype.resampleByAmount=function(t,e){var r,o;return e?(o=_.map(this.shapes,function(r){return r.resampleByAmount(t,e)}),new Group(o)):(r=new Path.combine(this),r.resampleByAmount(t,e))},Group.prototype.resampleByLength=function(t){var e=_.map(this.shapes,function(e){return e.resampleByLength(t)});return new Group(e)},Group.prototype.toSVG=function(){var t;return t=_.map(this.shapes,function(t){return t.toSVG()}),"<g>"+t.join("")+"</g>"},Group.prototype.draw=function(t){var e,r=this.shapes,o=r.length;for(e=0;o>e;e+=1)r[e].draw(t)},module.exports=Group;
},{"../objects/path":12,"../objects/rect":14,"lodash":1}],11:[function(require,module,exports){
"use strict";var Vec3=require("../objects/vec3"),Matrix4=function(m){void 0!==m?this.m=m:(m=new Float32Array(16),m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,this.m=m)};Matrix4.IDENTITY=new Matrix4,Matrix4.perspective=function(m,t,i,s){var h=new Float32Array(Matrix4.IDENTITY.m),r=1/Math.tan(.5*m);return h[0]=r/t,h[1]=h[2]=h[3]=0,h[5]=r,h[4]=h[6]=h[7]=0,h[8]=h[9]=0,h[10]=-s/(i-s),h[11]=1,h[12]=h[13]=h[15]=0,h[14]=i*s/(i-s),new Matrix4(h)},Matrix4.lookAt=function(m,t,i){var s,h,r,a,e,n,o;return s=new Float32Array(16),h=t.subtract(m).normalize(),r=Vec3.cross(i,h).normalize(),a=Vec3.cross(h,r).normalize(),e=-Vec3.dot(r,m),n=-Vec3.dot(a,m),o=-Vec3.dot(h,m),s[0]=r.x,s[1]=a.x,s[2]=h.x,s[3]=0,s[4]=r.y,s[5]=a.y,s[6]=h.y,s[7]=0,s[8]=r.z,s[9]=a.z,s[10]=h.z,s[11]=0,s[12]=e,s[13]=n,s[14]=o,s[15]=1,new Matrix4(s)},Matrix4.prototype.invert=function(){var m,t,i,s,h,r,a,e,n,o,c,x,u,M,l,y,w,p,v,A,f,z,F,V,d,I,T,b,D,E,N,Y,j,k,q,g,B,C,G,H;return m=this.m[0],t=this.m[1],i=this.m[2],s=this.m[3],h=this.m[4],r=this.m[5],a=this.m[6],e=this.m[7],n=this.m[8],o=this.m[9],c=this.m[10],x=this.m[11],u=this.m[12],M=this.m[13],l=this.m[14],y=this.m[15],w=c*y-x*l,p=o*y-x*M,v=o*l-c*M,A=n*y-x*u,f=n*l-c*u,z=n*M-o*u,F=r*w-a*p+e*v,V=-(h*w-a*A+e*f),d=h*p-r*A+e*z,I=-(h*v-r*f+a*z),T=1/(m*F+t*V+i*d+s*I),b=a*y-e*l,D=r*y-e*M,E=r*l-a*M,N=h*y-e*u,Y=h*l-a*u,j=h*M-r*u,k=a*x-e*c,q=r*x-e*o,g=r*c-a*o,B=h*x-e*n,C=h*c-a*n,G=h*o-r*n,H=new Float32Array(16),H[0]=F*T,H[4]=V*T,H[8]=d*T,H[12]=I*T,H[1]=-(t*w-i*p+s*v)*T,H[5]=(m*w-i*A+s*f)*T,H[9]=-(m*p-t*A+s*z)*T,H[13]=(m*v-t*f+i*z)*T,H[2]=(t*b-i*D+s*E)*T,H[6]=-(m*b-i*N+s*Y)*T,H[10]=(m*D-t*N+s*j)*T,H[14]=-(m*E-t*Y+i*j)*T,H[3]=-(t*k-i*q+s*g)*T,H[7]=(m*k-i*B+s*C)*T,H[11]=-(m*q-t*B+s*G)*T,H[15]=(m*g-t*C+i*G)*T,new Matrix4(H)},Matrix4.prototype.multiply=function(m){var t=new Float32Array(16);return t[0]=this.m[0]*m.m[0]+this.m[1]*m.m[4]+this.m[2]*m.m[8]+this.m[3]*m.m[12],t[1]=this.m[0]*m.m[1]+this.m[1]*m.m[5]+this.m[2]*m.m[9]+this.m[3]*m.m[13],t[2]=this.m[0]*m.m[2]+this.m[1]*m.m[6]+this.m[2]*m.m[10]+this.m[3]*m.m[14],t[3]=this.m[0]*m.m[3]+this.m[1]*m.m[7]+this.m[2]*m.m[11]+this.m[3]*m.m[15],t[4]=this.m[4]*m.m[0]+this.m[5]*m.m[4]+this.m[6]*m.m[8]+this.m[7]*m.m[12],t[5]=this.m[4]*m.m[1]+this.m[5]*m.m[5]+this.m[6]*m.m[9]+this.m[7]*m.m[13],t[6]=this.m[4]*m.m[2]+this.m[5]*m.m[6]+this.m[6]*m.m[10]+this.m[7]*m.m[14],t[7]=this.m[4]*m.m[3]+this.m[5]*m.m[7]+this.m[6]*m.m[11]+this.m[7]*m.m[15],t[8]=this.m[8]*m.m[0]+this.m[9]*m.m[4]+this.m[10]*m.m[8]+this.m[11]*m.m[12],t[9]=this.m[8]*m.m[1]+this.m[9]*m.m[5]+this.m[10]*m.m[9]+this.m[11]*m.m[13],t[10]=this.m[8]*m.m[2]+this.m[9]*m.m[6]+this.m[10]*m.m[10]+this.m[11]*m.m[14],t[11]=this.m[8]*m.m[3]+this.m[9]*m.m[7]+this.m[10]*m.m[11]+this.m[11]*m.m[15],t[12]=this.m[12]*m.m[0]+this.m[13]*m.m[4]+this.m[14]*m.m[8]+this.m[15]*m.m[12],t[13]=this.m[12]*m.m[1]+this.m[13]*m.m[5]+this.m[14]*m.m[9]+this.m[15]*m.m[13],t[14]=this.m[12]*m.m[2]+this.m[13]*m.m[6]+this.m[14]*m.m[10]+this.m[15]*m.m[14],t[15]=this.m[12]*m.m[3]+this.m[13]*m.m[7]+this.m[14]*m.m[11]+this.m[15]*m.m[15],new Matrix4(t)},Matrix4.prototype.translate=function(m,t,i){var s=new Float32Array(this.m);return s[12]+=m,s[13]+=t,s[14]+=i,new Matrix4(s)},module.exports=Matrix4;
},{"../objects/vec3":17}],12:[function(require,module,exports){
"use strict";function _cloneCommand(t){var o={type:t.type};return o.type!==CLOSE&&(o.x=t.x,o.y=t.y),o.type===CURVETO&&(o.x1=t.x1,o.y1=t.y1,o.x2=t.x2,o.y2=t.y2),o}var _=require("lodash"),bezier=require("../util/bezier"),geo=require("../util/geo"),math=require("../util/math"),Color=require("../objects/color"),Rect=require("../objects/rect"),MOVETO=bezier.MOVETO,LINETO=bezier.LINETO,CURVETO=bezier.CURVETO,CLOSE=bezier.CLOSE,CLOSE_COMMAND=Object.freeze({type:CLOSE}),KAPPA=.5522847498307936,Path=function(t,o,e,i){this.commands=void 0!==t?t:[],this.fill=void 0!==o?o:"black",this.stroke=void 0!==e?e:null,this.strokeWidth=void 0!==i?i:1};Path.prototype.clone=function(){var t,o=new Path,e=this.commands.length;for(o.commands.length=this.commands.length,t=0;e>t;t+=1)o.commands[t]=_cloneCommand(this.commands[t]);return o.fill=Color.clone(this.fill),o.stroke=Color.clone(this.stroke),o.strokeWidth=this.strokeWidth,o},Path.prototype.extend=function(t){var o=t.commands||t;Array.prototype.push.apply(this.commands,o)},Path.prototype.moveTo=function(t,o){this.commands.push({type:MOVETO,x:t,y:o})},Path.prototype.lineTo=function(t,o){this.commands.push({type:LINETO,x:t,y:o})},Path.prototype.curveTo=function(t,o,e,i,s,h){this.commands.push({type:CURVETO,x1:t,y1:o,x2:e,y2:i,x:s,y:h})},Path.prototype.quadTo=function(t,o,e,i){var s=this.commands[this.commands.length-1].x,h=this.commands[this.commands.length-1].y,n=s+2/3*(t-s),r=h+2/3*(o-h),a=n+1/3*(e-s),l=r+1/3*(i-h);this.curveTo(n,r,a,l,e,i)},Path.prototype.closePath=Path.prototype.close=function(){this.commands.push(CLOSE_COMMAND)},Path.prototype.isClosed=function(){return 0===this.commands.length?!1:this.commands[this.commands.length-1].type===CLOSE},Path.prototype.addRect=function(t,o,e,i){this.moveTo(t,o),this.lineTo(t+e,o),this.lineTo(t+e,o+i),this.lineTo(t,o+i),this.close()},Path.prototype.addRoundedRect=function(t,o,e,i,s,h){var n=1-.552,r=s,a=h,l=t,c=t+e,p=o,m=o+i;r=Math.min(r,.5*e),a=Math.min(a,.5*i),this.moveTo(l+r,p),.5*e>r&&this.lineTo(c-s,p),this.curveTo(c-r*n,p,c,p+a*n,c,p+a),.5*i>a&&this.lineTo(c,m-a),this.curveTo(c,m-a*n,c-r*n,m,c-r,m),.5*e>r&&this.lineTo(l+r,m),this.curveTo(l+r*n,m,l,m-a*n,l,m-a),.5*i>a&&this.lineTo(l,p+a),this.curveTo(l,p+a*n,l+r*n,p,l+r,p),this.close()},Path.prototype.addEllipse=function(t,o,e,i){var s=.5*KAPPA*e,h=.5*KAPPA*i,n=t+.5*e,r=o+.5*i,a=t+e,l=o+i;this.moveTo(t,r),this.curveTo(t,r-h,n-s,o,n,o),this.curveTo(n+s,o,a,r-h,a,r),this.curveTo(a,r+h,n+s,l,n,l),this.curveTo(n-s,l,t,r+h,t,r),this.close()},Path.prototype.addLine=function(t,o,e,i){this.moveTo(t,o),this.lineTo(e,i)},Path.prototype.addQuad=function(t,o,e,i,s,h,n,r){this.moveTo(t,o),this.lineTo(e,i),this.lineTo(s,h),this.lineTo(n,r),this.close()},Path.prototype.addArc=function(t,o,e,i,s,h,n){n=n||"pie";var r,a,l,c,p,m,u,d,y,f,v,T,P;for(r=e/2,a=i/2,l=math.radians(s),c=h,c>=360||-360>=c?(p=4,m=Math.PI/2,u=.5522847498307933,0>c&&(m=-m,u=-u)):(p=Math.ceil(Math.abs(c)/90),m=math.radians(c/p),u=4/3*Math.sin(m/2)/(1+Math.cos(m/2)),0===u&&(p=0)),"open"===n?d=0:"chord"===n?d=1:"pie"===n&&(d=2),(0>r||0>a)&&(p=d=-1),y=0;p+d>=y;)f=l,0===y?this.moveTo(t+Math.cos(f)*r,o+Math.sin(f)*a):y>p?y===p+d?this.close():this.lineTo(t,o):(f+=m*(y-1),v=Math.cos(f),T=Math.sin(f),P=[],P.push(t+(v-u*T)*r),P.push(o+(T+u*v)*a),f+=m,v=Math.cos(f),T=Math.sin(f),P.push(t+(v+u*T)*r),P.push(o+(T-u*v)*a),P.push(t+v*r),P.push(o+T*a),Path.prototype.curveTo.apply(this,P)),y+=1},Path.prototype.colorize=function(t,o,e){var i=this.clone();return i.fill=Color.clone(t),i.stroke=Color.clone(o),i.strokeWidth=e,i},Path.prototype.contours=function(){var t=[],o=[];return _.each(this.commands,function(e){e.type===MOVETO?(0!==o.length&&t.push(o),o=[e]):o.push(e)}),0!==o.length&&t.push(o),t},Path.prototype.bounds=function(){if(this._bounds)return this._bounds;if(0===this.commands.length)return new Rect(0,0,0,0);var t,o,e,i,s,h=Number.MAX_VALUE,n=Number.MAX_VALUE,r=-Number.MAX_VALUE,a=-Number.MAX_VALUE;return _.each(this.commands,function(l){if(l.type===MOVETO||l.type===LINETO)t=l.x,o=l.y,h>t&&(h=t),n>o&&(n=o),t>r&&(r=t),o>a&&(a=o),e=l;else if(l.type===CURVETO){var c=bezier.extrema(e.x,e.y,l.x1,l.y1,l.x2,l.y2,l.x,l.y);i=c.x+c.width,s=c.y+c.height,c.x<h&&(h=c.x),i>r&&(r=i),c.y<n&&(n=c.y),s>a&&(a=s),e=l}}),new Rect(h,n,r-h,a-n)},Path.prototype.point=function(t,o){return void 0===o&&(o=bezier.segmentLengths(this.commands,!0,10)),bezier.point(this,t,o)},Path.prototype.points=function(t,o){var e=o&&void 0!==o.start?o.start:0,i=o&&void 0!==o.end?o.end:1;if(0===this.commands.length)return[];t=Math.round(t);var s;s=o.closed?t>1?(i-e)/t:i-e:t>1?(i-e)/(t-1):i-e;for(var h=[],n=bezier.segmentLengths(this.commands,!0,10),r=0;t>r;r+=1)h.push(this.point(e+s*r,n));return h},Path.prototype.length=function(t){return void 0===t&&(t=10),bezier.length(this,t)},Path.prototype.contains=function(t,o,e){void 0===e&&(e=100);var i,s=this.points(e),h=[];for(i=0;i<s.length;i+=1)s[i].type!==CLOSE&&h.push({x:s[i].x,y:s[i].y});return geo.pointInPolygon(h,t,o)},Path.prototype.resampleByAmount=function(t,o){for(var e=o?this.contours():[this.commands],i=new Path([],this.fill,this.stroke,this.strokeWidth),s=0;s<e.length;s+=1){var h=new Path(e[s]),n={};h.isClosed()&&(n.closed=!0);for(var r=h.points(t,n),a=0;a<r.length;a+=1)0===a?i.moveTo(r[a].x,r[a].y):i.lineTo(r[a].x,r[a].y);h.isClosed()&&i.close()}return i},Path.prototype.resampleByLength=function(t){var o=this.contours(),e=[];t=Math.max(t,.01);for(var i=0;i<o.length;i+=1){var s=new Path(o[i]),h=s.length(),n=Math.ceil(h/t);e=e.concat(s.resampleByAmount(n).commands)}return new Path(e,this.fill,this.stroke,this.strokeWidth)},Path.prototype.toPathData=function(){var t,o,e,i,s,h,n,r,a;for(o="",t=0;t<this.commands.length;t+=1)e=this.commands[t],void 0!==e.x&&(i=math.clamp(e.x,-9999,9999),s=math.clamp(e.y,-9999,9999)),void 0!==e.x1&&(h=math.clamp(e.x1,-9999,9999),n=math.clamp(e.y1,-9999,9999)),void 0!==e.x2&&(r=math.clamp(e.x2,-9999,9999),a=math.clamp(e.y2,-9999,9999)),e.type===MOVETO?isNaN(i)||isNaN(s)||(o+="M"+i+" "+s):e.type===LINETO?isNaN(i)||isNaN(s)||(o+="L"+i+" "+s):e.type===CURVETO?isNaN(i)||isNaN(s)||isNaN(h)||isNaN(n)||isNaN(r)||isNaN(a)||(o+="C"+h+" "+n+" "+r+" "+a+" "+i+" "+s):e.type===CLOSE&&(o+="Z");return o},Path.prototype.toSVG=function(){var t='<path d="';t+=this.toPathData(),t+='"';var o;o=this.fill&&void 0!==this.fill.r?Color.toCSS(this.fill):this.fill,"black"!==o&&(t+=null===o?' fill="none"':' fill="'+o+'"');var e;return e=this.stroke&&void 0!==this.stroke.r?Color.toCSS(this.stroke):this.stroke,e&&(t+=' stroke="'+e+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},Path.prototype.draw=function(t){var o,e,i;for(t.beginPath(),o=this.commands.length,e=0;o>e;e+=1)i=this.commands[e],i.type===MOVETO?t.moveTo(i.x,i.y):i.type===LINETO?t.lineTo(i.x,i.y):i.type===CURVETO?t.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,i.x,i.y):i.type===CLOSE&&t.closePath();null!==this.fill&&(t.fillStyle=Color.toCSS(this.fill),t.fill()),null!==this.stroke&&null!==this.strokeWidth&&this.strokeWidth>0&&(t.strokeStyle=Color.toCSS(this.stroke),t.lineWidth=this.strokeWidth,t.stroke())},Path.combine=function(){for(var t=_.flatten(arguments),o=[],e=0;e<t.length;e+=1){var i=t[e];i.commands?o=o.concat(i.commands):i.shapes&&(o=o.concat(Path.combine(i.shapes)))}return new Path(o)},module.exports=Path;
},{"../objects/color":9,"../objects/rect":14,"../util/bezier":18,"../util/geo":20,"../util/math":22,"lodash":1}],13:[function(require,module,exports){
"use strict";var Point=function(t,i){this.x=void 0!==t?t:0,this.y=void 0!==i?i:0};Object.defineProperty(Point.prototype,"xy",{get:function(){return[this.x,this.y]}}),Point.ZERO=new Point(0,0),Point.prototype.clone=function(){return new Point(this.x,this.y)},Point.prototype.add=function(t){return new Point(this.x+t.x,this.y+t.y)},Point.prototype.subtract=Point.prototype.sub=function(t){return new Point(this.x-t.x,this.y-t.y)},Point.prototype.divide=function(t){return new Point(this.x/t,this.y/t)},Point.prototype.multiply=function(t){return new Point(this.x*t,this.y*t)},Point.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Point.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y},Point.prototype.heading=function(){return Math.atan2(this.y,this.x)},Point.prototype.distanceTo=function(t){var i=this.x-t.x,n=this.y-t.y;return Math.sqrt(i*i+n*n)},Point.prototype.normalize=function(){var t=this.magnitude();return 0!==t?this.divide(t):Point.ZERO},Point.prototype.limit=function(t){return this.magnitudeSquared()>t*t?this.normalize().multiply(t):this},Point.prototype.translate=function(t,i){return new Point(this.x+t,this.y+i)},Point.prototype.scale=function(t,i){return i=void 0!==i?i:t,new Point(this.x*t,this.y*i)},Point.prototype.toString=function(){return"["+this.x+", "+this.y+"]"},module.exports=Point;
},{}],14:[function(require,module,exports){
"use strict";var Point=require("../objects/point"),Rect=function(t,i,h,e){this.x=void 0!==t?t:0,this.y=void 0!==i?i:0,this.width=void 0!==h?h:0,this.height=void 0!==e?e:0};Object.defineProperty(Rect.prototype,"xywh",{get:function(){return[this.x,this.y,this.width,this.height]}}),Rect.prototype.normalize=function(){var t=this.x,i=this.y,h=this.width,e=this.height;return 0>h&&(t+=h,h=-h),0>e&&(i+=e,e=-e),new Rect(t,i,h,e)},Rect.prototype.containsPoint=function(t,i){return 1===arguments.length&&(i=t.y,t=t.x),t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},Rect.prototype.containsRect=function(t){return t.x>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y+t.height<=this.y+this.height},Rect.prototype.grow=function(t,i){var h=this.x-t,e=this.y-i,s=this.width+2*t,n=this.height+2*i;return new Rect(h,e,s,n)},Rect.prototype.unite=function(t){var i=Math.min(this.x,t.x),h=Math.min(this.y,t.y),e=Math.max(this.x+this.width,t.x+t.width)-i,s=Math.max(this.y+this.height,t.y+t.height)-h;return new Rect(i,h,e,s)},Rect.prototype.addPoint=function(t,i){var h,e,s=this.x,n=this.y,o=this.width,r=this.height;return t<this.x?(h=this.x-t,s=t,o+=h):t>this.x+this.width&&(h=t-(this.x+this.width),o+=h),i<this.y?(e=this.y-i,n=i,r+=e):i>this.y+this.height&&(e=i-(this.y+this.height),r+=e),new Rect(s,n,o,r)},Rect.prototype.centroid=function(){return new Point(this.x+this.width/2,this.y+this.height/2)},module.exports=Rect;
},{"../objects/point":13}],15:[function(require,module,exports){
"use strict";var Color=require("../objects/color"),Rect=require("../objects/rect"),Transform=require("../objects/transform"),_dummyContext=null,Text=function(t){var e,i=Array.prototype.slice.call(arguments,1),n=arguments[1],o=arguments[2],s=arguments[arguments.length-1];this.text=String(t),"number"==typeof n?(this.x=n,this.y=o,i=i.slice(2)):Array.isArray(n)?(this.x=n[0],this.y=n[1],i=i.slice(1)):"object"==typeof n?(this.x=void 0!==n.x?n.x:0,this.y=void 0!==n.y?n.y:0,i=i.slice(1)):(this.x=0,this.y=0),"object"==typeof s?(e=s,n!==s&&(i=i.slice(0,i.length-1))):e={},this.fontFamily=i.length?i.shift():e.fontFamily||e.fontName||e.font||"sans-serif",this.fontSize=i.length?i.shift():e.fontSize||24,this.textAlign=i.length?i.shift():e.align||e.textAlign||"left",this.fill=i.length?i.shift():e.fill||"black",this.transform=new Transform};Text.prototype.clone=function(){var t=new Text;return t.text=this.text,t.x=this.x,t.y=this.y,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.textAlign=this.textAlign,t.fill=Color.clone(this.fill),t.transform=this.transform,t},Text._getDummyContext=function(){return _dummyContext||(_dummyContext="undefined"!=typeof document?document.createElement("canvas").getContext("2d"):{font:"10px sans-serif",measureText:function(t){var e=parseFloat(this.font);return{width:t.length*e*.6}}}),_dummyContext},Text.prototype._getFont=function(){return this.fontSize+"px "+this.fontFamily},Text.prototype.colorize=function(t){var e=this.clone();return e.fill=Color.clone(t),e},Text.prototype.draw=function(t){t.save(),t.font=this._getFont(),t.textAlign=this.textAlign;var e=this.transform.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7]),t.fillStyle=Color.toCSS(this.fill),t.fillText(this.text,this.x,this.y),t.restore()},Text.prototype.bounds=function(){var t,e=Text._getDummyContext(),i=this.x;return e.font=this._getFont(),t=e.measureText(this.text),"center"===this.textAlign?i=this.x-t.width/2:"right"===this.textAlign&&(i=this.x-t.width),new Rect(i,this.y-this.fontSize,t.width,1.2*this.fontSize)},Text.prototype.toSVG=function(){var t="<text";t+=' x="'+this.x+'"',t+=' y="'+this.y+'"',t+=' font-family="'+this.fontFamily+'"',t+=' font-size="'+this.fontSize+'"';var e;return"left"===this.textAlign?e="start":"center"===this.textAlign?e="middle":"right"===this.textAlign&&(e="end"),t+=' text-anchor="'+e+'"',"black"!==this.fill&&(t+=' fill="'+Color.toCSS(this.fill)+'"'),t+=">",t+=this.text,t+="</text>"},module.exports=Text;
},{"../objects/color":9,"../objects/rect":14,"../objects/transform":16}],16:[function(require,module,exports){
"use strict";var _=require("lodash"),math=require("../util/math"),Group=require("../objects/group"),Path=require("../objects/path"),Point=require("../objects/point"),MOVETO="M",LINETO="L",CURVETO="C",CLOSE="Z",Transform=function(r){this.m=void 0!==r?r:[1,0,0,0,1,0,0,0,1]};Transform.IDENTITY=new Transform,Transform.identity=function(){return new Transform},Transform._mmult=function(r,t){return void 0!==r.m&&(r=r.m),void 0!==t.m&&(t=t.m),new Transform([r[0]*t[0]+r[1]*t[3],r[0]*t[1]+r[1]*t[4],0,r[3]*t[0]+r[4]*t[3],r[3]*t[1]+r[4]*t[4],0,r[6]*t[0]+r[7]*t[3]+t[6],r[6]*t[1]+r[7]*t[4]+t[7],1])},Transform.prototype.prepend=function(r){return Transform._mmult(this.m,r.m)},Transform.prototype.append=function(r){return Transform._mmult(r.m,this.m)},Transform.prototype.inverse=function(){var r=this.m,t=r[0]*r[4]-r[1]*r[3];return new Transform([r[4]/t,-r[1]/t,0,-r[3]/t,r[0]/t,0,(r[3]*r[7]-r[4]*r[6])/t,-(r[0]*r[7]-r[1]*r[6])/t,1])},Transform.prototype.scale=function(r,t){return void 0===t&&(t=r),Transform._mmult([r,0,0,0,t,0,0,0,1],this.m)},Transform.prototype.translate=function(r,t){return Transform._mmult([1,0,0,0,1,0,r,t,1],this.m)},Transform.prototype.rotate=function(r){var t=Math.cos(math.radians(r)),n=Math.sin(math.radians(r));return Transform._mmult([t,n,0,-n,t,0,0,0,1],this.m)},Transform.prototype.skew=function(r,t){var n=Math.PI*r/180,o=Math.PI*t/180;return Transform._mmult([1,Math.tan(o),0,-Math.tan(n),1,0,0,0,1],this.m)},Transform.prototype.transformPoint=function(r){var t=r.x,n=r.y,o=this.m;return new Point(t*o[0]+n*o[3]+o[6],t*o[1]+n*o[4]+o[7])},Transform.prototype.transformPoints=function(r){var t=this;return _.map(r,function(r){return t.transformPoint(r)})},Transform.prototype.transformPath=function(r){var t,n,o,a=this,s=_.map(r.commands,function(r){if(r.type===MOVETO)return t=a.transformPoint({x:r.x,y:r.y}),{type:MOVETO,x:t.x,y:t.y};if(r.type===LINETO)return t=a.transformPoint({x:r.x,y:r.y}),{type:LINETO,x:t.x,y:t.y};if(r.type===CURVETO)return t=a.transformPoint({x:r.x,y:r.y}),n=a.transformPoint({x:r.x1,y:r.y1}),o=a.transformPoint({x:r.x2,y:r.y2}),{type:CURVETO,x1:n.x,y1:n.y,x2:o.x,y2:o.y,x:t.x,y:t.y};if(r.type===CLOSE)return r;throw new Error("Unknown command type "+r)});return new Path(s,r.fill,r.stroke,r.strokeWidth)},Transform.prototype.transformText=function(r){var t=r.clone();return t.transform=this.append(t.transform),t},Transform.prototype.transformGroup=function(r){var t=this,n=_.map(r.shapes,function(r){return t.transformShape(r)});return new Group(n)},Transform.prototype.transformShape=function(r){var t;return t=r.shapes?this.transformGroup:r.text?this.transformText:Array.isArray(r)&&r.length>0&&void 0!==r[0].x&&void 0!==r[0].y?this.transformPoints:this.transformPath,t.call(this,r)},module.exports=Transform;
},{"../objects/group":10,"../objects/path":12,"../objects/point":13,"../util/math":22,"lodash":1}],17:[function(require,module,exports){
"use strict";var Vec3=function(t,i,e){this.x=void 0===t?0:t,this.y=void 0===i?0:i,this.z=void 0===e?0:e};Vec3.ZERO=new Vec3(0,0,0),Vec3.up=function(){return new Vec3(0,1,0)},Vec3.dot=function(t,i){return t.x*i.x+t.y*i.y+t.z*i.z},Vec3.cross=function(t,i){return new Vec3(t.y*i.z-t.z*i.y,t.z*i.x-t.x*i.z,t.x*i.y-t.y*i.x)},Vec3.prototype.toString=function(){return"["+this.x+", "+this.y+", "+this.z+"]"},Vec3.prototype.toArray=function(){var t=[];return t.push(this.x),t.push(this.y),t.push(this.z),t},Vec3.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Vec3.prototype.normalize=function(){var t,i;return t=this.getLength(),0===t?this:(i=1/t,new Vec3(this.x*i,this.y*i,this.z*i))},Vec3.prototype.add=function(t){return new Vec3(this.x+t.x,this.y+t.y,this.z+t.z)},Vec3.prototype.subtract=function(t){return new Vec3(this.x-t.x,this.y-t.y,this.z-t.z)},Vec3.prototype.transform=function(t){var i,e,s,h,n;return n=t,i=this.x*n.m[0]+this.y*n.m[4]+this.z*n.m[8]+n.m[12],e=this.x*n.m[1]+this.y*n.m[5]+this.z*n.m[9]+n.m[13],s=this.x*n.m[2]+this.y*n.m[6]+this.z*n.m[10]+n.m[14],h=this.x*n.m[3]+this.y*n.m[7]+this.z*n.m[11]+n.m[15],new Vec3(i/h,e/h,s/h)},module.exports=Vec3;
},{}],18:[function(require,module,exports){
"use strict";var _=require("lodash"),math=require("../util/math"),Point=require("../objects/point"),Rect=require("../objects/rect"),bezier={},MOVETO=bezier.MOVETO="M",LINETO=bezier.LINETO="L",CURVETO=bezier.CURVETO="C",CLOSE=bezier.CLOSE="Z";bezier.linePoint=function(e,t,r,n,i){var a=t+e*(n-t),o=r+e*(i-r);return{type:LINETO,x:a,y:o}},bezier.lineLength=function(e,t,r,n){var i=Math.pow(Math.abs(e-r),2),a=Math.pow(Math.abs(t-n),2);return Math.sqrt(i+a)},bezier.curvePoint=function(e,t,r,n,i,a,o,u,h){var s=1-e,c=t*s+n*e,b=r*s+i*e,y=n*s+a*e,m=i*s+o*e,x=a*s+u*e,z=o*s+h*e,O=c*s+y*e,p=b*s+m*e,v=y*s+x*e,M=m*s+z*e,E=O*s+v*e,L=p*s+M*e;return{type:CURVETO,x1:O,y1:p,x2:v,y2:M,x:E,y:L}},bezier.curveLength=function(e,t,r,n,i,a,o,u,h){void 0===h&&(h=20);var s,c,b,y=0,m=e,x=t;for(s=0;h>s;s+=1)c=(s+1)/h,b=bezier.curvePoint(c,e,t,r,n,i,a,o,u),y+=Math.sqrt(Math.pow(Math.abs(m-b.x),2)+Math.pow(Math.abs(x-b.y),2)),m=b.x,x=b.y;return y},bezier.segmentLengths=function(e,t,r){t=void 0!==t?t:!1,void 0===r&&(r=20);var n,i,a,o,u,h,s,c,b;for(b=[],n=0;n<e.length;n+=1)i=e[n],a=i.type,0===n?(o=i.x,u=i.y):a===MOVETO?(o=i.x,u=i.y,b.push(0)):a===CLOSE?b.push(bezier.lineLength(h,s,o,u)):a===LINETO?b.push(bezier.lineLength(h,s,i.x,i.y)):a===CURVETO&&b.push(bezier.curveLength(h,s,i.x1,i.y1,i.x2,i.y2,i.x,i.y,r)),a!==CLOSE&&(h=i.x,s=i.y);return t===!0?(c=math.sum(b),c>0?_.map(b,function(e){return e/c}):_.map(b,function(){return 0})):b},bezier.length=function(e,t){return t=t||20,math.sum(bezier.segmentLengths(e.commands,!1,t))},bezier._locate=function(e,t,r){var n,i,a;for(void 0===r&&(r=bezier.segmentLengths(e.commands,!0)),n=0;n<e.commands.length&&(i=e.commands[n],(0===n||i.type===MOVETO)&&(a=new Point(i.x,i.y)),!(t<=r[n]||n===r.length-1));n+=1)t-=r[n];return 0!==r[n]&&(t/=r[n]),n===r.length-1&&0===r[n]&&(n-=1),[n,t,a]},bezier.point=function(e,t,r){var n,i,a,o,u,h;return n=bezier._locate(e,t,r),i=n[0],t=n[1],a=n[2],o=e.commands[i].x,u=e.commands[i].y,h=e.commands[i+1],h.type===LINETO||h.type===CLOSE?h=h.type===CLOSE?bezier.linePoint(t,o,u,a.x,a.y):bezier.linePoint(t,o,u,h.x,h.y):h.type===CURVETO&&(h=bezier.curvePoint(t,o,u,h.x1,h.y1,h.x2,h.y2,h.x,h.y)),h},bezier.extrema=function(e,t,r,n,i,a,o,u){function h(e,t){return Math.abs(e-t)<=1e-12*Math.min(Math.abs(e),Math.abs(t))}function s(e){var t,r,n,i,a;return t=1-e,n=t*t,i=e*e,a=i*e,r=n*t,n*=3*e,i*=3*t,[r,n,i,a]}function c(h){var c,b,y,m,x;return x=s(h),c=x[0],b=x[1],y=x[2],m=x[3],{x:c*e+b*r+y*i+m*o,y:c*t+b*n+y*a+m*u}}function b(e){if(e>=0&&1>=e){var t=c(e);t.x<y?y=t.x:t.x>m&&(m=t.x),t.y<x?x=t.y:t.y>z&&(z=t.y)}}var y,m,x,z,O,p,v,M,E,L,f,g,l,T;return o>e?(y=e,m=o):(y=o,m=e),u>t?(x=t,z=u):(x=u,z=t),O=3*(-e+3*r-3*i+o),p=6*(e-2*r+i),v=3*(-e+r),h(O+1,1)?h(p+1,1)||b(-v/p):(l=p*p-4*O*v,l>=0&&(f=Math.sqrt(l),g=1/(2*O),b((-p+f)*g),b((-p-f)*g))),M=3*(-t+3*n-3*a+u),E=6*(t-2*n+a),L=3*(-t+n),h(M+1,1)?h(E+1,1)||b(-L/E):(T=E*E-4*M*L,T>0&&(f=Math.sqrt(T),g=1/(2*M),b((-E+f)*g),b((-E-f)*g))),new Rect(y,x,m-y,z-x)},module.exports=bezier;
},{"../objects/point":13,"../objects/rect":14,"../util/math":22,"lodash":1}],19:[function(require,module,exports){
"use strict";function toHex(e){var r;return 0===e?"00":(r=e.toString(16).toUpperCase(),r.length<2&&(r="0"+r),r)}var color={};color.namedColors={lightpink:[1,.71,.76],pink:[1,.75,.8],crimson:[.86,.08,.24],lavenderblush:[1,.94,.96],palevioletred:[.86,.44,.58],hotpink:[1,.41,.71],deeppink:[1,.08,.58],mediumvioletred:[.78,.08,.52],orchid:[.85,.44,.84],thistle:[.85,.75,.85],plum:[.87,.63,.87],violet:[.93,.51,.93],fuchsia:[1,0,1],darkmagenta:[.55,0,.55],purple:[.5,0,.5],mediumorchid:[.73,.33,.83],darkviolet:[.58,0,.83],darkorchid:[.6,.2,.8],indigo:[.29,0,.51],blueviolet:[.54,.17,.89],mediumpurple:[.58,.44,.86],mediumslateblue:[.48,.41,.93],slateblue:[.42,.35,.8],darkslateblue:[.28,.24,.55],ghostwhite:[.97,.97,1],lavender:[.9,.9,.98],blue:[0,0,1],mediumblue:[0,0,.8],darkblue:[0,0,.55],navy:[0,0,.5],midnightblue:[.1,.1,.44],royalblue:[.25,.41,.88],cornflowerblue:[.39,.58,.93],lightsteelblue:[.69,.77,.87],lightslategray:[.47,.53,.6],slategray:[.44,.5,.56],dodgerblue:[.12,.56,1],aliceblue:[.94,.97,1],steelblue:[.27,.51,.71],lightskyblue:[.53,.81,.98],skyblue:[.53,.81,.92],deepskyblue:[0,.75,1],lightblue:[.68,.85,.9],powderblue:[.69,.88,.9],cadetblue:[.37,.62,.63],darkturquoise:[0,.81,.82],azure:[.94,1,1],lightcyan:[.88,1,1],paleturquoise:[.69,.93,.93],aqua:[0,1,1],darkcyan:[0,.55,.55],teal:[0,.5,.5],darkslategray:[.18,.31,.31],mediumturquoise:[.28,.82,.8],lightseagreen:[.13,.7,.67],turquoise:[.25,.88,.82],aquamarine:[.5,1,.83],mediumaquamarine:[.4,.8,.67],mediumspringgreen:[0,.98,.6],mintcream:[.96,1,.98],springgreen:[0,1,.5],mediumseagreen:[.24,.7,.44],seagreen:[.18,.55,.34],honeydew:[.94,1,.94],darkseagreen:[.56,.74,.56],palegreen:[.6,.98,.6],lightgreen:[.56,.93,.56],limegreen:[.2,.8,.2],lime:[0,1,0],forestgreen:[.13,.55,.13],green:[0,.5,0],darkgreen:[0,.39,0],lawngreen:[.49,.99,0],chartreuse:[.5,1,0],greenyellow:[.68,1,.18],darkolivegreen:[.33,.42,.18],yellowgreen:[.6,.8,.2],olivedrab:[.42,.56,.14],ivory:[1,1,.94],beige:[.96,.96,.86],lightyellow:[1,1,.88],lightgoldenrodyellow:[.98,.98,.82],yellow:[1,1,0],olive:[.5,.5,0],darkkhaki:[.74,.72,.42],palegoldenrod:[.93,.91,.67],lemonchiffon:[1,.98,.8],khaki:[.94,.9,.55],gold:[1,.84,0],cornsilk:[1,.97,.86],goldenrod:[.85,.65,.13],darkgoldenrod:[.72,.53,.04],floralwhite:[1,.98,.94],oldlace:[.99,.96,.9],wheat:[.96,.87,.07],orange:[1,.65,0],moccasin:[1,.89,.71],papayawhip:[1,.94,.84],blanchedalmond:[1,.92,.8],navajowhite:[1,.87,.68],antiquewhite:[.98,.92,.84],tan:[.82,.71,.55],burlywood:[.87,.72,.53],darkorange:[1,.55,0],bisque:[1,.89,.77],linen:[.98,.94,.9],peru:[.8,.52,.25],peachpuff:[1,.85,.73],sandybrown:[.96,.64,.38],chocolate:[.82,.41,.12],saddlebrown:[.55,.27,.07],seashell:[1,.96,.93],sienna:[.63,.32,.18],lightsalmon:[1,.63,.48],coral:[1,.5,.31],orangered:[1,.27,0],darksalmon:[.91,.59,.48],tomato:[1,.39,.28],salmon:[.98,.5,.45],mistyrose:[1,.89,.88],lightcoral:[.94,.5,.5],snow:[1,.98,.98],rosybrown:[.74,.56,.56],indianred:[.8,.36,.36],red:[1,0,0],brown:[.65,.16,.16],firebrick:[.7,.13,.13],darkred:[.55,0,0],maroon:[.5,0,0],white:[1,1,1],whitesmoke:[.96,.96,.96],gainsboro:[.86,.86,.86],lightgrey:[.83,.83,.83],silver:[.75,.75,.75],darkgray:[.66,.66,.66],gray:[.5,.5,.5],grey:[.5,.5,.5],dimgray:[.41,.41,.41],dimgrey:[.41,.41,.41],black:[0,0,0],cyan:[0,.68,.94],transparent:[0,0,0,0],bark:[.25,.19,.13]},color.rgb2hex=function(e,r,a){return"#"+toHex(Math.round(255*e))+toHex(Math.round(255*r))+toHex(Math.round(255*a))},color.rgba2hex=function(e,r,a,o){return"#"+toHex(Math.round(255*e))+toHex(Math.round(255*r))+toHex(Math.round(255*a))+toHex(Math.round(255*o))},color.hex2rgb=function(e){var r,a,o,l;return e=e.replace(/^#/,""),e.length<6&&(r=[],r.length=6-e.length,e+=r.join(e.substr(e.length-1))),a=parseInt(e.substr(0,2),16)/255,o=parseInt(e.substr(2,2),16)/255,l=parseInt(e.substr(4,2),16)/255,[a,o,l]},color.rgb2hsb=function(e,r,a){var o=0,l=0,n=Math.max(e,r,a),t=n-Math.min(e,r,a);return 0!==n&&(l=t/n),0!==l&&(o=e===n?(r-a)/t:r===n?2+(a-e)/t:4+(e-r)/t),o=o/6%1,[o,l,n]},color.hsb2rgb=function(e,r,a){if(0===r)return[a,a,a];e=e%1*6;var o=Math.floor(e),l=e-o,n=a*(1-r),t=a*(1-r*l),i=a*(1-r*(1-l));return o>4?[a,n,t]:[[a,i,n],[t,a,n],[n,a,i],[n,t,a],[i,n,a]][parseInt(o,10)]},module.exports=color;
},{}],20:[function(require,module,exports){
"use strict";var math=require("../util/math"),Point=require("../objects/point"),geo={};geo.angle=function(t,n,e,o){return math.degrees(Math.atan2(o-n,e-t))},geo.distance=function(t,n,e,o){return Math.sqrt(Math.pow(e-t,2)+Math.pow(o-n,2))},geo.coordinates=function(t,n,e,o){var a=t+Math.cos(math.radians(o))*e,r=n+Math.sin(math.radians(o))*e;return new Point(a,r)},geo.pointInPolygon=function(t,n,e){var o,a,r,i,u,h,s=!1,g=t.length;for(o=0;g>o;o+=1)a=g-1>o?o+1:0,r=t[o].x,i=t[o].y,u=t[a].x,h=t[a].y,(e>i&&h>=e||e>h&&i>=e)&&n>r+(e-i)/(h-i)*(u-r)&&(s=!s);return s},module.exports=geo;
},{"../objects/point":13,"../util/math":22}],21:[function(require,module,exports){
"use strict";exports.defineAlias=function(t,e,n){Object.defineProperty(t.prototype,n,{get:function(){return this[e]},set:function(t){this[e]=t}})},exports.defineGetter=function(t,e,n){Object.defineProperty(t.prototype,e,{get:n})};
},{}],22:[function(require,module,exports){
"use strict";function _fade(r){return r*r*r*(r*(6*r-15)+10)}function _grad(r,t,n,a){var e,o,u;return e=15&r,o=8>e?t:n,u=4>e?n:12===e||14===e?t:a,(0===(1&e)?o:-o)+(0===(2&e)?u:-u)}function _scale(r){return(1+r)/2}var math={};math.sum=function(r){var t,n=r.length,a=0;for(t=0;n>t;t+=1)a+=r[t];return a},math.round=function(r,t){return t?Math.round(r*Math.pow(10,t))/Math.pow(10,t):Math.round(r)},math.sign=function(r){return 0>r?-1:r>0?1:0},math.degrees=function(r){return 180*r/Math.PI},math.radians=function(r){return r/180*Math.PI},math.clamp=function(r,t,n){return n>t?t>r?t:r>n?n:r:n>r?n:r>t?t:r},math.snap=function(r,t,n){return n=void 0!==n?n:1,r*(1-n)+n*Math.round(r/t)*t},math.dot=function(r,t){var n,a=Math.min(r.length,t.length),e=0;for(n=0;a>n;n+=1)e+=r[n]*t[n];return e};var _lerp=math.mix=math.lerp=function(r,t,n,a){if(a){if(0>n)return r;if(n>1)return t}return r+(t-r)*n},_permutation=function(){var r,t,n;for(r=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=new Uint8Array(512),n=0;256>n;n+=1)t[256+n]=t[n]=r[n];return t}();math.noise=function(r,t,n){var a=_permutation,e=255&Math.floor(r),o=255&Math.floor(t),u=255&Math.floor(n);r-=Math.floor(r),t-=Math.floor(t),n-=Math.floor(n);var f=_fade(r),h=_fade(t),i=_fade(n),_=a[e]+o,d=a[_]+u,l=a[_+1]+u,m=a[e+1]+o,c=a[m]+u,p=a[m+1]+u;return _scale(_lerp(_lerp(_lerp(_grad(a[d],r,t,n),_grad(a[c],r-1,t,n),f),_lerp(_grad(a[l],r,t-1,n),_grad(a[p],r-1,t-1,n),f),h),_lerp(_lerp(_grad(a[d+1],r,t,n-1),_grad(a[c+1],r-1,t,n-1),f),_lerp(_grad(a[l+1],r,t-1,n-1),_grad(a[p+1],r-1,t-1,n-1),f),h),i))},module.exports=math;
},{}],23:[function(require,module,exports){
"use strict";function generator(r){if(0>r){for(var e=generator(Math.abs(r)),t=0;23>t;t+=1)e();return generator(e(0,1e4))}return function(e,t){e=e||0,t=t||1,r=(9301*r+49297)%233280;var n=r/233280;return e+n*(t-e)}}exports.generator=generator;
},{}],24:[function(require,module,exports){
"use strict";var _=require("lodash"),xmldom=require("xmldom"),Color=require("../objects/color"),Group=require("../objects/group"),Path=require("../objects/path"),Point=require("../objects/point"),Transform=require("../objects/transform"),trim=function(t){return t.replace(/^\s+|\s+$/g,"")},compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},toNumberArray=function(t){var e,r=trim(compressSpaces((t||"").replace(/,/g," "))).split(" ");for(e=0;e<r.length;e+=1)r[e]=parseFloat(r[e]);return r},applySvgAttributes=function(t,e){function r(t){if(t.commands){var e=c.transformShape(t).commands,o=void 0===a?t.fill:a,i=void 0===n?t.stroke:n,u=void 0===s?t.strokeWidth:s;return void 0!==u&&(u*=c[0]),new Path(e,o,i,u)}return t.shapes?new Group(_.map(t.shapes,r)):void 0}var a,n,s,o,i,c,u;for(e.commands&&(a="black"),o=[],i={},i.translate=function(t){var e=toNumberArray(t),r=e[0],a=e[1]||0;return(new Transform).translate(r,a)},i.scale=function(t){var e=toNumberArray(t),r=e[0],a=e[1]||r;return(new Transform).scale(r,a)},i.rotate=function(t){var e,r=toNumberArray(t),a=r[0],n=r[1]||0,s=r[2]||0;return e=new Transform,e=e.translate(n,s),e=e.rotate(a),e=e.translate(-n,-s)},i.matrix=function(t){var e=toNumberArray(t);return[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]},_.each(t.attributes,function(t){var e,r,l,h,m;switch(e=t.nodeName){case"transform":for(r=trim(compressSpaces(t.nodeValue)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),u=0;u<r.length;u+=1)l=trim(r[u].split("(")[0]),h=r[u].split("(")[1].replace(")",""),c=i[l](h),o.push(c);break;case"visibility":break;case"stroke-linecap":break;case"stroke-linejoin":break;case"stroke-miterlimit":break;case"stroke-width":s=parseFloat(t.nodeValue);break;case"stroke-opacity":case"fill-opacity":break;case"fill":a=t.nodeValue;break;case"stroke":n=t.nodeValue;break;case"style":m={},_.each(t.nodeValue.split(";"),function(t){var e=t.split(":");m[e[0].trim()]=e[1]}),m.fill&&(a=m.fill),m.stroke&&(n=m.stroke),m["stroke-width"]&&(s=parseFloat(m["stroke-width"]))}}),a=void 0===a?a:Color.parse(a),n=void 0===n?n:Color.parse(n),c=new Transform,u=0;u<o.length;u+=1)c=c.append(o[u]);return r(e)},arcToSegments=function(t,e,r,a,n,s,o,i,c){var u,l,h,m,p,d,g,v,f,b,y,A,C,x,P,k,w,S,M,T,F,q,$,E,L,z,V;for(u=o*(Math.PI/180),l=Math.sin(u),h=Math.cos(u),r=Math.abs(r),a=Math.abs(a),m=h*(i-t)*.5+l*(c-e)*.5,p=h*(c-e)*.5-l*(i-t)*.5,d=m*m/(r*r)+p*p/(a*a),d>1&&(d=Math.sqrt(d),r*=d,a*=d),g=h/r,v=l/r,f=-l/a,b=h/a,y=g*i+v*c,A=f*i+b*c,C=g*t+v*e,x=f*t+b*e,P=(C-y)*(C-y)+(x-A)*(x-A),k=1/P-.25,0>k&&(k=0),w=Math.sqrt(k),s===n&&(w=-w),S=.5*(y+C)-w*(x-A),M=.5*(A+x)+w*(C-y),T=Math.atan2(A-M,y-S),F=Math.atan2(x-M,C-S),q=F-T,0>q&&1===s?q+=2*Math.PI:q>0&&0===s&&(q-=2*Math.PI),$=Math.ceil(Math.abs(q/(.5*Math.PI+.001))),E=[],V=0;$>V;V+=1)L=T+V*q/$,z=T+(V+1)*q/$,E[V]=[S,M,L,z,r,a,l,h];return E},segmentToBezier=function(t,e,r,a,n,s,o,i){var c=i*n,u=-o*s,l=o*n,h=i*s,m=.5*(a-r),p=8/3*Math.sin(.5*m)*Math.sin(.5*m)/Math.sin(m),d=t+Math.cos(r)-p*Math.sin(r),g=e+Math.sin(r)+p*Math.cos(r),v=t+Math.cos(a),f=e+Math.sin(a),b=v+p*Math.sin(a),y=f-p*Math.cos(a);return[c*d+u*g,l*d+h*g,c*b+u*y,l*b+h*y,c*v+u*f,l*v+h*f]},read={svg:function(){return read.g.apply(this,arguments)},g:function(t){var e=[];return _.each(t.childNodes,function(t){var r,a,n;r=t.nodeName,r&&(a=r.replace(/svg\:/gi,"").toLowerCase(),void 0!==read[a]&&(n=read[a].call(this,t),e.push(n)))}),applySvgAttributes(t,new Group(e))},polygon:function(t,e){var r=t.getAttribute("points"),a=new Path;return r.replace(/([\d\.?]+),([\d\.?]+)/g,function(t,e,r){var n=parseFloat(e),s=parseFloat(r);0===a.commands.length?a.moveTo(n,s):a.lineTo(n,s)}),e||a.close(),applySvgAttributes(t,a)},polyline:function(t){return read.polygon(t,!0)},rect:function(t){var e=parseFloat(t.getAttribute("x")),r=parseFloat(t.getAttribute("y")),a=parseFloat(t.getAttribute("width")),n=parseFloat(t.getAttribute("height")),s=new Path;return s.addRect(e,r,a,n),applySvgAttributes(t,s)},ellipse:function(t){var e=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("rx")),n=parseFloat(t.getAttribute("ry")),s=new Path;return s.addEllipse(e-a,r-n,2*a,2*n),applySvgAttributes(t,s)},circle:function(t){var e=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("r")),n=new Path;return n.addEllipse(e-a,r-a,2*a,2*a),applySvgAttributes(t,n)},line:function(t){var e=parseFloat(t.getAttribute("x1")),r=parseFloat(t.getAttribute("y1")),a=parseFloat(t.getAttribute("x2")),n=parseFloat(t.getAttribute("y2")),s=new Path;return s.addLine(e,r,a,n),applySvgAttributes(t,s)},path:function(t){var e,r,a,n,s,o,i,c,u,l,h,m,p,d,g,v,f,b,y,A,C,x,P;e=t.getAttribute("d"),e=e.replace(/,/gm," "),e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),e=e.replace(/([0-9])([+\-])/gm,"$1 $2"),e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=compressSpaces(e),e=trim(e),r=function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!==this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i+=1,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!==this.previousCommand.toLowerCase()&&"s"!==this.previousCommand.toLowerCase()&&"q"!==this.previousCommand.toLowerCase()&&"t"!==this.previousCommand.toLowerCase())return this.current;var t=new Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return t},this.makeAbsolute=function(t){return this.isRelativeCommand()?new Point(t.x+this.current.x,t.y+this.current.y):t}};var k=new Path;for(a=new r(e),a.reset();!a.isEnd();)switch(a.nextCommand(),a.command){case"M":case"m":for(n=a.getAsCurrentPoint(),k.moveTo(n.x,n.y),a.start=a.current;!a.isCommandOrEnd();)n=a.getAsCurrentPoint(),k.lineTo(n.x,n.y);break;case"L":case"l":for(;!a.isCommandOrEnd();)n=a.getAsCurrentPoint(),k.lineTo(n.x,n.y);break;case"H":case"h":for(;!a.isCommandOrEnd();)s=new Point((a.isRelativeCommand()?a.current.x:0)+a.getScalar(),a.current.y),a.current=s,k.lineTo(a.current.x,a.current.y);break;case"V":case"v":for(;!a.isCommandOrEnd();)s=new Point(a.current.x,(a.isRelativeCommand()?a.current.y:0)+a.getScalar()),a.current=s,k.lineTo(a.current.x,a.current.y);break;case"C":case"c":for(;!a.isCommandOrEnd();)o=a.current,i=a.getPoint(),c=a.getAsControlPoint(),u=a.getAsCurrentPoint(),k.curveTo(i.x,i.y,c.x,c.y,u.x,u.y);break;case"S":case"s":for(;!a.isCommandOrEnd();)o=a.current,i=a.getReflectedControlPoint(),c=a.getAsControlPoint(),u=a.getAsCurrentPoint(),k.curveTo(i.x,i.y,c.x,c.y,u.x,u.y);break;case"Q":case"q":for(;!a.isCommandOrEnd();)o=a.current,c=a.getAsControlPoint(),u=a.getAsCurrentPoint(),l=o.x+2/3*(c.x-o.x),h=o.y+2/3*(c.y-o.y),m=l+1/3*(u.x-o.x),p=h+1/3*(u.y-o.y),k.curveTo(l,h,m,p,u.x,u.y);break;case"T":case"t":for(;!a.isCommandOrEnd();)o=a.current,c=a.getReflectedControlPoint(),a.control=c,u=a.getAsCurrentPoint(),l=o.x+2/3*(c.x-o.x),h=o.y+2/3*(c.y-o.y),m=l+1/3*(u.x-o.x),p=h+1/3*(u.y-o.y),k.curveTo(l,h,m,p,u.x,u.y);break;case"A":case"a":for(;!a.isCommandOrEnd();)for(o=a.current,d=a.getScalar(),g=a.getScalar(),v=a.getScalar(),f=a.getScalar(),b=a.getScalar(),u=a.getAsCurrentPoint(),y=u.x,A=u.y,C=arcToSegments(y,A,d,g,f,b,v,o.x,o.y),x=0;x<C.length;x+=1)P=segmentToBezier.apply(this,C[x]),k.curveTo.apply(this,P);break;case"Z":case"z":k.close(),a.current=a.start}return applySvgAttributes(t,k)}};exports.interpret=function(t){var e,r=t.tagName.toLowerCase();return void 0===read[r]?null:e=read[r].call(this,t)},exports.parseString=function(t){var e=(new xmldom.DOMParser).parseFromString(t);return e?exports.interpret(e.documentElement):void 0};
},{"../objects/color":9,"../objects/group":10,"../objects/path":12,"../objects/point":13,"../objects/transform":16,"lodash":1,"xmldom":2}]},{},[8])(8)
});